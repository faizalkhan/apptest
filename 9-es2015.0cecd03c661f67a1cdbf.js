(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2bTi":function(t,n,e){"use strict";e.r(n),e.d(n,"SparesModule",function(){return jt});var o=e("ofXK"),c=e("3Pt+"),i=e("QYs8"),a=e("tyNb"),r=e("RGSW"),s=e("o0su");function d(t,n,e,o){var c,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,o);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(i<3?c(a):i>3?c(n,e,a):c(n,e))||a);return i>3&&a&&Object.defineProperty(n,e,a),a}function l(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}Object.create;Object.create;var g=e("r+JB");var h=e("fXoL"),u=e("OeDX");function m(t,n){if(1&t&&(h.kc(0,"li"),h.kc(1,"a",6),h.kc(2,"div",7),h.fc(3,"img",8),h.jc(),h.kc(4,"span"),h.Pc(5),h.jc(),h.jc(),h.jc()),2&t){const t=n.$implicit;h.Tb(1),h.Bc("routerLink",t.route),h.Tb(2),h.Bc("src",t.icon,h.Jc),h.Tb(2),h.Qc(t.label)}}function p(t,n){if(1&t&&(h.kc(0,"article"),h.fc(1,"app-section-header"),h.kc(2,"div",1),h.kc(3,"div",2),h.kc(4,"h1"),h.Pc(5),h.jc(),h.kc(6,"p"),h.Pc(7),h.jc(),h.jc(),h.kc(8,"div",3),h.kc(9,"ul",4),h.Oc(10,m,6,3,"li",5),h.jc(),h.jc(),h.jc(),h.jc()),2&t){const t=h.vc();h.Tb(5),h.Qc(t.page.label),h.Tb(2),h.Rc(" ",t.page.landingPageDescription," "),h.Tb(3),h.Ac("ngForOf",t.page.children)}}let k=class{constructor(t,n){this.navigationService=t,this.route=n}ngOnInit(){this.navigationService.getNavigationTree(!0).subscribe(t=>{this.navigationTree=t;let n=this.route.snapshot.root.firstChild.routeConfig.path;n=`/${n}`;for(let e=0;e<this.navigationTree.length&&!this.page;e++){const t=this.navigationTree[e];t.route===n&&t.isLandingPage&&(this.page=t)}})}};k.\u0275fac=function(t){return new(t||k)(h.ec(g.a),h.ec(a.a))},k.\u0275cmp=h.Yb({type:k,selectors:[["app-landing-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6","description"],[1,"col-md-5"],[1,"children"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"icon-container"],["onerror","this.src = '/assets/img/module-icons/circle.svg'",3,"src"]],template:function(t,n){1&t&&h.Oc(0,p,11,3,"article",0),2&t&&h.Ac("ngIf",n.page)},directives:[o.k,u.a,o.j,a.d],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}.description[_ngcontent-%COMP%]{margin-bottom:2rem}.description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125em;font-weight:600}@media screen and (max-width:768px){.description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:none}}.children[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid #d6d6d6;transition:all .2s ease-in-out}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child > a[_ngcontent-%COMP%]{border-top:1px solid #d6d6d6}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;text-align:center;padding:1rem;color:#424244;transition:all .2s ease-out}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;position:absolute;white-space:nowrap;overflow:hidden;margin-top:.25em;margin-left:3.9em}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:3.875em}.children[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;max-width:2.5em;width:auto}"]}),k=d([function(t=[]){return function(n){const e=n.prototype.ngOnDestroy;n.prototype.ngOnDestroy=function(){for(const n in this)if(this.hasOwnProperty(n)){const e=this[n];t.includes(n)||e&&"function"==typeof e.unsubscribe&&e.unsubscribe()}e&&"function"==typeof e&&e.apply(this,arguments)}}}(),l("design:paramtypes",[g.a,a.a])],k);var P=e("Kj3r"),O=e("pLZG"),f=e("4ShH"),b=e("oeRM");function C(t,n){1&t&&(h.kc(0,"span",18),h.Pc(1," \xa0\xa0\xa0 "),h.jc())}function M(t,n){1&t&&(h.kc(0,"span",19),h.Pc(1," \xa0\xa0\xa0\xa0 "),h.jc())}function _(t,n){1&t&&(h.kc(0,"span",20),h.Pc(1," \xa0\xa0\xa0\xa0\xa0 "),h.jc())}function v(t,n){1&t&&(h.kc(0,"span",21),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function w(t,n){1&t&&(h.kc(0,"span",22),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function y(t,n){1&t&&(h.kc(0,"span",23),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function x(t,n){1&t&&(h.kc(0,"span",24),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function S(t,n){1&t&&(h.kc(0,"span",25),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function j(t,n){1&t&&(h.kc(0,"span",26),h.Pc(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),h.jc())}function I(t,n){if(1&t&&(h.kc(0,"div"),h.Pc(1),h.jc()),2&t){const t=h.vc(4);h.Tb(1),h.Rc(" Please note, minimum order quantity for this product is ",t.skuStock.quantities.minimumOrderQuantity," items. ")}}function T(t,n){if(1&t&&(h.kc(0,"div",46),h.kc(1,"div",33),h.Oc(2,I,2,1,"div",39),h.jc(),h.jc()),2&t){const t=h.vc(3);h.Tb(2),h.Ac("ngIf",t.qty<t.skuStock.quantities.minimumOrderQuantity)}}function q(t,n){1&t&&(h.kc(0,"span"),h.Pc(1,"Add to Basket"),h.jc())}function A(t,n){1&t&&h.fc(0,"div",47)}function B(t,n){if(1&t){const t=h.lc();h.kc(0,"div"),h.Oc(1,T,3,1,"div",40),h.kc(2,"div",41),h.kc(3,"div",42),h.kc(4,"input",43),h.rc("ngModelChange",function(n){h.Ic(t);return h.vc(2).qty=n})("paste",function(n){h.Ic(t);return h.vc(2).handleQtyClipboard(n)})("keydown",function(n){h.Ic(t);return h.vc(2).handleQtyInputKeyDown(n)})("keyup",function(n){h.Ic(t);return h.vc(2).handleQtyKeyup(n)}),h.jc(),h.jc(),h.kc(5,"div",30),h.kc(6,"button",44),h.rc("click",function(){h.Ic(t);return h.vc(2).handleAddToBasket()}),h.Oc(7,q,2,0,"span",39),h.Oc(8,A,1,0,"div",45),h.jc(),h.jc(),h.jc(),h.jc()}if(2&t){const t=h.vc(2);h.Tb(1),h.Ac("ngIf",t.qty<t.skuStock.quantities.minimumOrderQuantity),h.Tb(3),h.Ac("ngModel",t.qty),h.Tb(2),h.Ac("disabled",t.qty<t.skuStock.quantities.minimumOrderQuantity||t.qty<1||0===t.qty.toString().length),h.Tb(1),h.Ac("ngIf",!t.isAddingToBasket),h.Tb(1),h.Ac("ngIf",t.isAddingToBasket)}}function Q(t,n){if(1&t){const t=h.lc();h.kc(0,"app-modal",27),h.rc("modalShouldClose",function(){h.Ic(t);return h.vc().handleDetailsModalClose()})("contextmenu",function(n){h.Ic(t);return h.vc().disableRightClick(n)}),h.kc(1,"article"),h.kc(2,"section",28),h.kc(3,"header",29),h.kc(4,"div",30),h.kc(5,"h1"),h.Pc(6),h.jc(),h.jc(),h.kc(7,"div",31),h.kc(8,"strong"),h.Pc(9,"ID"),h.jc(),h.Pc(10),h.jc(),h.jc(),h.kc(11,"div",32),h.kc(12,"div",33),h.kc(13,"dl"),h.kc(14,"dt"),h.Pc(15,"Description"),h.jc(),h.kc(16,"dd"),h.Pc(17),h.jc(),h.jc(),h.jc(),h.jc(),h.jc(),h.kc(18,"section",34),h.kc(19,"div",29),h.kc(20,"div",35),h.kc(21,"h2"),h.Pc(22,"Order"),h.jc(),h.jc(),h.jc(),h.kc(23,"div",36),h.kc(24,"div",37),h.kc(25,"dl"),h.kc(26,"dt"),h.Pc(27,"In stock"),h.jc(),h.kc(28,"dd"),h.Pc(29),h.jc(),h.jc(),h.jc(),h.kc(30,"div",38),h.kc(31,"dl"),h.kc(32,"dt"),h.Pc(33,"Min. Required Stock"),h.jc(),h.kc(34,"dd"),h.Pc(35),h.jc(),h.jc(),h.jc(),h.kc(36,"div",37),h.kc(37,"dl"),h.kc(38,"dt"),h.Pc(39,"Uom"),h.jc(),h.kc(40,"dd"),h.Pc(41),h.jc(),h.jc(),h.jc(),h.jc(),h.Oc(42,B,9,5,"div",39),h.jc(),h.jc(),h.jc()}if(2&t){const t=h.vc();h.Tb(6),h.Qc(t.skuStock.sparesGroupName),h.Tb(4),h.Rc(" ",t.skuStock.id," "),h.Tb(7),h.Qc(t.skuStock.description),h.Tb(12),h.Qc(t.skuStock.quantities.inStock),h.Tb(6),h.Qc(t.skuStock.quantities.reOrderLevel),h.Tb(6),h.Qc(t.skuStock.uom),h.Tb(1),h.Ac("ngIf",t.canAddToBasket)}}f.a;class U{constructor(t,n,e){this.basketService=t,this.toastService=n,this.authenticationService=e,this.visuallyExpanded=!1,this.detailsModalVisible=!1,this.isAddingToBasket=!1,this.qty=1,this.isQtyInOrderMultiples=!0,this.canAddToBasket=!0,this.userProfile=this.authenticationService.currentUserProfile$.getValue()}ngOnInit(){this.skuStock.quantities.minimumOrderQuantity&&(this.qty=this.skuStock.quantities.minimumOrderQuantity)}handleOrderMoreClick(){this.detailsModalVisible=!0}handleDetailsModalClose(){this.detailsModalVisible=!1}handleAddToBasket(){let t;this.isAddingToBasket=!0,Object(f.b)(this.addToBasketSubscription),t={createdByUserId:this.userProfile.userId,createdByUserName:this.userProfile.name,skuId:this.skuStock.id,skuDescription:this.skuStock.description,uom:this.skuStock.uom,qty:this.qty},this.addToBasketSubscription=this.basketService.addToBasket(t,this.userProfile.primarySite.id).subscribe(()=>{this.isAddingToBasket=!1,this.detailsModalVisible=!1,this.toastService.showToast(new s.u("Added to basket"))},t=>{this.isAddingToBasket=!1;const n=t.error;this.toastService.showErrorToast(n)})}handleQtyClipboard(t){t.preventDefault()}disableRightClick(t){t.preventDefault()}handleQtyInputKeyDown(t){"Backspace"!==t.key&&"Delete"!==t.key&&(isNaN(t.key)||32===t.keyCode)&&t.preventDefault()}handleQtyKeyup(t){"Enter"===t.key&&this.qty>0&&this.qty.toString().length>0&&this.qty>=this.skuStock.quantities.minimumOrderQuantity&&(t.preventDefault(),this.handleAddToBasket())}}function G(t,n){if(1&t&&h.fc(0,"app-sku-stock",10),2&t){const t=n.$implicit;h.Ac("skuStock",t)}}function R(t,n){if(1&t){const t=h.lc();h.kc(0,"button",11),h.rc("click",function(){h.Ic(t);return h.vc().getNextSkuStocks()}),h.Pc(1,"Load more"),h.jc()}}function F(t,n){1&t&&h.fc(0,"div",12)}function z(t,n){1&t&&(h.kc(0,"span"),h.Pc(1,"You may see more results by changing or removing your search query."),h.jc())}function D(t,n){if(1&t&&(h.kc(0,"i"),h.Pc(1),h.Oc(2,z,2,0,"span",9),h.jc()),2&t){const t=h.vc();h.Tb(1),h.Rc(" All stocks in the '",t.sparesGroup.name,"' group have been loaded. "),h.Tb(1),h.Ac("ngIf",t.textFilter)}}U.\u0275fac=function(t){return new(t||U)(h.ec(s.e),h.ec(s.v),h.ec(s.d))},U.\u0275cmp=h.Yb({type:U,selectors:[["app-sku-stock"]],inputs:{skuStock:"skuStock"},decls:41,vars:17,consts:[[1,"sku-stock"],[1,"sku-stock-row"],[1,"id"],[1,"name"],[1,"stock-levels"],[2,"display","flex"],["class","9",4,"ngIf"],["class","8",4,"ngIf"],["class","7",4,"ngIf"],["class","6",4,"ngIf"],["class","5",4,"ngIf"],["class","4",4,"ngIf"],["class","3",4,"ngIf"],["class","2",4,"ngIf"],["class","1",4,"ngIf"],[1,"actions"],[1,"btn","btn-link",3,"click"],["class","order-stock-sku-modal",3,"modalShouldClose","contextmenu",4,"ngIf"],[1,"9"],[1,"8"],[1,"7"],[1,"6"],[1,"5"],[1,"4"],[1,"3"],[1,"2"],[1,"1"],[1,"order-stock-sku-modal",3,"modalShouldClose","contextmenu"],[1,"generic-info"],[1,"row"],[1,"col-8"],[1,"col-4","text-right"],[1,"row","description-row","mt-4"],[1,"col-12"],[1,"stock-info"],[1,"col12"],[1,"info-row","row"],[1,"col-sm-3","col-3"],[1,"col-sm-5","col-6"],[4,"ngIf"],["class","row notice-row",4,"ngIf"],[1,"row","add-to-basket-row"],[1,"col-4"],["type","text","pattern","[0-9]*","inputmode","text","ng-pattern","[0-9]*","maxlength","6",1,"form-control","quantity-input",3,"ngModel","ngModelChange","paste","keydown","keyup"],[1,"btn","btn-primary","btn-block",3,"disabled","click"],["class","spinner light",4,"ngIf"],[1,"row","notice-row"],[1,"spinner","light"]],template:function(t,n){1&t&&(h.kc(0,"div",0),h.kc(1,"div",1),h.kc(2,"div"),h.kc(3,"strong"),h.Pc(4,"ID"),h.jc(),h.jc(),h.kc(5,"div",2),h.Pc(6),h.jc(),h.kc(7,"div",3),h.Pc(8),h.jc(),h.kc(9,"div",4),h.kc(10,"table"),h.kc(11,"tr"),h.kc(12,"th"),h.Pc(13,"In\xa0Stock"),h.jc(),h.kc(14,"td"),h.Pc(15),h.jc(),h.jc(),h.kc(16,"tr"),h.kc(17,"th"),h.Pc(18,"On\xa0Order"),h.jc(),h.kc(19,"td"),h.kc(20,"span",5),h.Pc(21),h.Oc(22,C,2,0,"span",6),h.Oc(23,M,2,0,"span",7),h.Oc(24,_,2,0,"span",8),h.Oc(25,v,2,0,"span",9),h.Oc(26,w,2,0,"span",10),h.Oc(27,y,2,0,"span",11),h.Oc(28,x,2,0,"span",12),h.Oc(29,S,2,0,"span",13),h.Oc(30,j,2,0,"span",14),h.jc(),h.jc(),h.jc(),h.kc(31,"tr"),h.kc(32,"th"),h.Pc(33,"Min Stock"),h.jc(),h.kc(34,"td"),h.Pc(35),h.jc(),h.jc(),h.jc(),h.jc(),h.kc(36,"div",15),h.kc(37,"div"),h.kc(38,"button",16),h.rc("click",function(){return n.handleOrderMoreClick()}),h.Pc(39," Order More "),h.jc(),h.jc(),h.jc(),h.jc(),h.Oc(40,Q,43,7,"app-modal",17),h.jc()),2&t&&(h.Tb(1),h.Wb("expanded",n.visuallyExpanded),h.Tb(5),h.Rc(" ",n.skuStock.id," "),h.Tb(2),h.Rc(" ",n.skuStock.description," "),h.Tb(7),h.Qc(n.skuStock.quantities.inStock),h.Tb(6),h.Rc("",n.skuStock.quantities.onOrder," "),h.Tb(1),h.Ac("ngIf",9===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",8===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",7===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",6===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",5===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",4===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",3===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",2===n.skuStock.quantities.onOrder.toString().length),h.Tb(1),h.Ac("ngIf",1===n.skuStock.quantities.onOrder.toString().length),h.Tb(5),h.Qc(n.skuStock.quantities.minimumOrderQuantity),h.Tb(5),h.Ac("ngIf",n.detailsModalVisible))},directives:[o.k,b.a,c.c,c.s,c.i,c.m,c.p],styles:['@charset "UTF-8";@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}.sku-stock-row[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;background-color:#f2f2f2;margin-bottom:2px;padding:.5em 3.6em .5em .5em;transition:all .2s ease-in-out;border:1px solid transparent;min-height:5em}@media (hover:hover){.sku-stock-row.expanded[_ngcontent-%COMP%], .sku-stock-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02);border-color:#e0e0e0}}.sku-stock-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5em 1em}.sku-stock-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:before{content:"";position:absolute;top:.5em;bottom:.5em;background-color:#c7c7c7;width:1px;margin-left:-1em}.sku-stock-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child:before{content:none}.sku-stock-row[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{width:8em;word-wrap:break-word;line-height:1}.sku-stock-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:40%;word-wrap:break-word;line-height:1;word-break:break-all}.sku-stock-row[_ngcontent-%COMP%]   .stock-levels[_ngcontent-%COMP%]{width:11em;font-size:.875em}.sku-stock-row[_ngcontent-%COMP%]   .stock-levels[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-right:.5em}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:15em;flex-grow:1}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:.75em;white-space:normal;text-decoration:none}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.sku-stock-row[_ngcontent-%COMP%]   button.row-toggle.row-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;transition:all .2s ease-in-out;background:rgba(0,0,0,.05);padding:1.3em 1em 1.4em}.sku-stock-row[_ngcontent-%COMP%]   button.row-toggle.row-toggle[_ngcontent-%COMP%]:before{content:none}.sku-stock-row[_ngcontent-%COMP%]   button.row-toggle.ellipsis[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#424244;padding:.6em .2em .2em}.sku-stock-row[_ngcontent-%COMP%]   button.row-toggle.ellipsis[_ngcontent-%COMP%]:hover > div[_ngcontent-%COMP%]{background-color:#000}@media screen and (max-width:768px){.sku-stock-row[_ngcontent-%COMP%]{font-size:.875rem;padding-left:0}.sku-stock-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5em .4em}.sku-stock-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:before{margin-left:-.4em}.sku-stock-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding:.5em}.sku-stock-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:none}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:40% em}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   [tooltip-danger][_ngcontent-%COMP%]:before{padding:.4em;width:10em}.sku-stock-row[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.875rem;padding:0}}app-sku-stock:first-child[_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:before, app-sku-stock:first-child   [_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:before, app-sku-stock:last-child[_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:not(.expanded):after, app-sku-stock:last-child   [_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:not(.expanded):after{content:"";position:absolute;pointer-events:none;width:100%;top:0;height:.7rem;background-image:linear-gradient(180deg,rgba(0,0,0,.11),transparent);left:0}app-sku-stock:last-child[_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:not(.expanded):after, app-sku-stock:last-child   [_nghost-%COMP%]   .sku-stock-row[_ngcontent-%COMP%]:not(.expanded):after{top:100%;transform:rotate(180deg) translateY(100%)}.sku-stock-row[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease-in-out;transform:rotate(0) translateY(0)}.sku-stock-row.expanded[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(.1em)}  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{text-align:left;background-color:#f2f2f2;height:29.1rem}  .order-stock-sku-modal.not-stockable .taro-modal.taro-modal.taro-modal{background-color:#fff}  .order-stock-sku-modal.not-stockable .taro-modal.taro-modal.taro-modal .generic-info{box-shadow:none}app-modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-left:0 -1em 0}app-modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0}app-modal[_ngcontent-%COMP%]   .generic-info[_ngcontent-%COMP%]{margin:-3rem -3rem 0;background-color:#fff;padding:3rem;padding-bottom:1rem!important;box-shadow:inset 0 -2px 2px rgba(0,0,0,.13)}app-modal[_ngcontent-%COMP%]   .generic-info[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right!important}app-modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-top:-.5em 0 1.5em;border-bottom:1px solid #e5e5e5}app-modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:.5em}app-modal[_ngcontent-%COMP%]   \u0326\u0326[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1em;font-weight:700}app-modal[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.75em;text-transform:uppercase;margin-bottom:.2em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{margin-top:1.5rem}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:1em;font-weight:600}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{background-color:#fff;padding:1.5em 0 1.5em 1em;text-align:center}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin-bottom:0}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.75em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{font-size:1.3em;margin-bottom:0!important;font-weight:200}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{margin-top:.8em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{display:inline-block;font-weight:600;font-size:.75rem;text-transform:uppercase;margin-top:.6rem}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:#6a955b;margin:0 0 0 .5em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border:1px solid #bcbcbc;border-width:0 1px}@media screen and (max-width:768px){app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{padding-left:0!important}}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]{margin-top:.9em;text-align:center}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:.5em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   .form-control[_ngcontent-%COMP%]{text-align:center;background-color:#fff}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .notice-row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%]{background:#c8d5c3;padding:1em;margin:.4em 0;border-radius:.5em;line-height:1.4}@media screen and (max-width:768px){td[_ngcontent-%COMP%]{display:none}td[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:nth-child(2){display:table-cell}td[_ngcontent-%COMP%]:nth-child(2):after{display:none}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{margin-top:2.5rem}app-modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-top:.5em}app-modal[_ngcontent-%COMP%]   .generic-info[_ngcontent-%COMP%]{margin:-1.7em;padding:1.7em}}@media screen and (max-width:800px){app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.9rem!important}}@media screen and (max-width:360px){app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em}app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem!important}}@media screen and (max-width:360px) and (min-height:640px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 17em);max-height:calc(100% - 17em)}}@media screen and (max-width:412px) and (min-height:732px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 23em);max-height:calc(100% - 23em)}}@media screen and (max-width:412px) and (min-height:896px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 35em);max-height:calc(100% - 35em)}}@media screen and (max-width:360px) and (min-height:740px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 24em);max-height:calc(100% - 24em)}}@media screen and (max-width:768px) and (min-height:1024px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 44em);max-height:calc(100% - 44em)}}@media screen and (min-width:1440px) and (min-height:900px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 32em);max-height:calc(100% - 32em)}}@media screen and (min-height:1280px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 59.5em);max-height:calc(100% - 59.5em)}}.stock-levels[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{display:table-caption}']});class L{constructor(t,n){this.skuService=t,this.elementRef=n,this.skuStocks=[],this.visuallyExpanded=!1,this.offset=0,this.takeSize=10,this.shouldGetNextSkuStocks=!0,this.isGettingNextSkuStocks=!1}ngOnInit(){}handleRowToggleClick(){0!==this.skuStocks.length||this.isGettingNextSkuStocks||this.getNextSkuStocks(),this.visuallyExpanded=!this.visuallyExpanded,this.setMaxHeight()}getNextSkuStocks(){this.isGettingNextSkuStocks=!0,this.skuService.getSkuStockForSparesGroup(this.sparesGroup.groupId,this.sparesGroup.subGroupId,this.takeSize,this.offset,this.siteId,this.textFilter).subscribe(t=>{this.skuStocks.push(...t),this.offset+=this.takeSize,t.length<this.takeSize&&(this.shouldGetNextSkuStocks=!1),this.isGettingNextSkuStocks=!1,this.handleSkuStockHeightChanged()})}handleSkuStockHeightChanged(){setTimeout(()=>this.setMaxHeight(),200)}setMaxHeight(){const t=this.elementRef.nativeElement.children[1].children;let n=0;for(const e of t)n+=e.getBoundingClientRect().height;this.maxHeight=n+"px"}}function N(t,n){1&t&&h.fc(0,"div",21)}function V(t,n){if(1&t&&h.fc(0,"app-spares-group",25),2&t){const t=n.$implicit,e=h.vc(2);h.Ac("sparesGroup",t)("textFilter",e.searchForm.get("text").value)("siteId",e.siteId)}}function E(t,n){if(1&t&&(h.kc(0,"article"),h.kc(1,"section",22),h.kc(2,"div",23),h.Oc(3,V,1,3,"app-spares-group",24),h.jc(),h.jc(),h.jc()),2&t){const t=h.vc();h.Tb(3),h.Ac("ngForOf",t.sparesGroups)}}L.\u0275fac=function(t){return new(t||L)(h.ec(s.s),h.ec(h.r))},L.\u0275cmp=h.Yb({type:L,selectors:[["app-spares-group"]],inputs:{sparesGroup:"sparesGroup",textFilter:"textFilter",siteId:"siteId"},decls:14,vars:11,consts:[[1,"group-toggle"],[1,"row-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8.797 5.194"],["d","M8,0l.8.8-4.4,4.4Q2.2,3,0,.8L.8,0C.81-.014,4.394,3.625,4.394,3.625S8.006,0,8,0Z"],[1,"sku-stocks"],[3,"skuStock",4,"ngFor","ngForOf"],[1,"load-more-container"],["class","btn btn-link",3,"click",4,"ngIf"],["class","spinner",4,"ngIf"],[4,"ngIf"],[3,"skuStock"],[1,"btn","btn-link",3,"click"],[1,"spinner"]],template:function(t,n){1&t&&(h.kc(0,"div",0),h.kc(1,"h2"),h.Pc(2),h.jc(),h.kc(3,"button",1),h.rc("click",function(){return n.handleRowToggleClick()}),h.kc(4,"div"),h.uc(),h.kc(5,"svg",2),h.fc(6,"path",3),h.jc(),h.jc(),h.jc(),h.jc(),h.tc(),h.kc(7,"div",4),h.kc(8,"div"),h.Oc(9,G,1,1,"app-sku-stock",5),h.jc(),h.kc(10,"div",6),h.Oc(11,R,2,0,"button",7),h.Oc(12,F,1,0,"div",8),h.Oc(13,D,3,2,"i",9),h.jc(),h.jc()),2&t&&(h.Wb("expanded",n.visuallyExpanded),h.Tb(2),h.Rc(" ",n.sparesGroup.name," "),h.Tb(5),h.Lc("max-height",n.maxHeight),h.Wb("expanded",n.visuallyExpanded),h.Tb(2),h.Ac("ngForOf",n.skuStocks),h.Tb(2),h.Ac("ngIf",n.shouldGetNextSkuStocks&&!n.isGettingNextSkuStocks),h.Tb(1),h.Ac("ngIf",n.isGettingNextSkuStocks),h.Tb(1),h.Ac("ngIf",!n.shouldGetNextSkuStocks))},directives:[o.j,o.k,U],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}[_nghost-%COMP%]{position:relative}.group-toggle[_ngcontent-%COMP%]{position:relative;background-color:#e5e5e5;padding:1.5em 2em;margin-bottom:2px;display:block;width:100%;text-align:left;border:1px solid transparent;transition:all .2s ease-in-out}@media (hover:hover){.group-toggle.expanded[_ngcontent-%COMP%], .group-toggle[_ngcontent-%COMP%]:hover{background-color:#efefef;border-color:#e3e3e3}}.group-toggle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125em;margin-bottom:0;font-weight:400}.group-toggle[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]{position:absolute;padding:1.3em 1em 1.4em;top:0;right:0;transition:all .2s ease-in-out;background:rgba(0,0,0,.05)}.group-toggle[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.1)}.group-toggle[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#f3f3f3;transition:all .2s ease-in-out}.group-toggle[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease-in-out;transform:rotate(0) translateY(0)}.group-toggle.expanded[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(.1em)}[_nghost-%COMP%]:first-child   .sku-stocks.expanded[_ngcontent-%COMP%]{margin-top:-2px}.sku-stocks[_ngcontent-%COMP%]{position:relative;margin:-2px .4em 2px;max-height:8rem;overflow:hidden;transition:all .2s ease-in-out}.sku-stocks[_ngcontent-%COMP%]:not(.expanded){max-height:0!important;margin:0}.sku-stocks[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.sku-stocks[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]{text-align:center;background-color:#f2f2f2;padding:1.2em}.sku-stocks[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{font-size:1.5em;margin:0 auto}.sku-stocks[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}.sku-stocks[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875em;font-style:italic;color:#999}"]});class ${constructor(t,n,e,o){this.skuService=t,this.formBuilder=n,this.toastService=e,this.authenticationService=o,this.isLoading=!0,this.allProductClassesOption="",this.sparesGroups=[],this.siteId=this.authenticationService.currentUserProfile$.value.primarySite.id,this.searchForm=this.formBuilder.group({text:""})}ngOnInit(){this.getSparesGroupSubscription=this.skuService.getSparesGroups(void 0,this.siteId).subscribe(t=>{this.sparesGroups=t,this.isLoading=!1},t=>{this.toastService.showErrorToast(`Sorry something went wrong... please try again later, ${t}`)}),this.searchForm.get("text").valueChanges.pipe(Object(P.a)(700),Object(O.a)(t=>t.length>=2||0===t.length)).subscribe(()=>this.submitSearch())}get noSparesGroups(){return 0===this.sparesGroups.length}submitSearch(){this.getSparesGroupSubscription.unsubscribe(),this.isLoading=!0,this.getSparesGroupSubscription=this.skuService.getSparesGroups(this.searchForm.get("text").value,this.siteId).subscribe(t=>{this.sparesGroups=t,this.isLoading=!1},t=>{this.toastService.showErrorToast(`Sorry something went wrong... please try again later, ${t}`)})}}$.\u0275fac=function(t){return new(t||$)(h.ec(s.s),h.ec(c.d),h.ec(s.v),h.ec(s.d))},$.\u0275cmp=h.Yb({type:$,selectors:[["app-stock-list"]],decls:27,vars:3,consts:[[1,"search-form",3,"formGroup"],[1,"row"],[1,"col-md-5"],[1,"input-with-search-wrapper"],["type","text","formControlName","text","placeholder","Search stock by id or description",1,"form-control","form-control--search-prefix"],[1,"col-md-7","d-flex","justify-content-end"],["type","button",1,"btn-download-csv"],["viewBox","0 0 15.375 19.188"],["id","Group_1558","data-name","Group 1558","transform","translate(-299.063 -288.813)"],["id","Path_783","data-name","Path 783",1,"cls-1"],["d","M940.063 237.334v19.188h15.375v-14.313l-4.875-4.875h-10.5z","transform","translate(-641 51.479)",1,"cls-3"],["d","M954.438 255.521v-12.898l-4.29-4.289h-9.085v17.187h13.375m1 1h-15.375v-19.187h10.5l4.875 4.875v14.312z","transform","translate(-641 51.479)",1,"cls-4"],["id","Path_784","d","M954.918 242.288h-5.043v-5.079","data-name","Path 784","transform","translate(-640.959 51.604)",1,"cls-2"],["id","Path_785","data-name","Path 785",1,"cls-1"],["d","M943.5 245.334h8.563v7.25H943.5z","transform","translate(-641 51.479)",1,"cls-3"],["d","M951.063 251.584v-5.25H944.5v5.25h6.563m1 1H943.5v-7.25h8.563v7.25z","transform","translate(-641 51.479)",1,"cls-4"],["id","Path_786","d","M946.5 245.084v7.25","data-name","Path 786","transform","translate(-641.064 51.729)",1,"cls-2"],["id","Path_787","d","M952.063 247.834H944","data-name","Path 787","transform","translate(-641 51.479)",1,"cls-2"],["id","Path_788","d","M951.938 250.4h-8.562","data-name","Path 788","transform","translate(-640.875 51.479)",1,"cls-2"],["class","spinner",4,"ngIf"],[4,"ngIf"],[1,"spinner"],[1,"spare-class"],[1,"spare-groups"],[3,"sparesGroup","textFilter","siteId",4,"ngFor","ngForOf"],[3,"sparesGroup","textFilter","siteId"]],template:function(t,n){1&t&&(h.fc(0,"app-section-header"),h.kc(1,"h1"),h.Pc(2,"Stock List"),h.jc(),h.kc(3,"form",0),h.kc(4,"div",1),h.kc(5,"div",2),h.kc(6,"div",3),h.fc(7,"input",4),h.jc(),h.jc(),h.kc(8,"div",5),h.kc(9,"button",6),h.uc(),h.kc(10,"svg",7),h.fc(11,"defs"),h.kc(12,"g",8),h.kc(13,"g",9),h.fc(14,"path",10),h.fc(15,"path",11),h.jc(),h.fc(16,"path",12),h.kc(17,"g",13),h.fc(18,"path",14),h.fc(19,"path",15),h.jc(),h.fc(20,"path",16),h.fc(21,"path",17),h.fc(22,"path",18),h.jc(),h.jc(),h.tc(),h.kc(23,"h1"),h.Pc(24,"CSV"),h.jc(),h.jc(),h.jc(),h.jc(),h.jc(),h.Oc(25,N,1,0,"div",19),h.Oc(26,E,4,1,"article",20)),2&t&&(h.Tb(3),h.Ac("formGroup",n.searchForm),h.Tb(22),h.Ac("ngIf",n.isLoading),h.Tb(1),h.Ac("ngIf",!n.isLoading&&!n.noSparesGroups))},directives:[u.a,c.w,c.n,c.g,c.c,c.m,c.f,o.k,o.j,L],styles:["h1[_ngcontent-%COMP%]{margin-bottom:1.75em}.search-form[_ngcontent-%COMP%]{padding-bottom:1.5em;margin-bottom:1.5em}@media screen and (max-width:768px){.search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-bottom:1em}.search-form[_ngcontent-%COMP%]   button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:1rem}.search-form[_ngcontent-%COMP%]   button.btn-download-csv[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:.25rem}}button.btn-download-csv[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-end;display:flex;color:#000;border:none;background:transparent}button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.4rem;height:auto}button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-1[_ngcontent-%COMP%], button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-2[_ngcontent-%COMP%]{fill:none}button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-2[_ngcontent-%COMP%]{stroke:#424244}button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-3[_ngcontent-%COMP%], button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-4[_ngcontent-%COMP%]{stroke:none}button.btn-download-csv[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .cls-4[_ngcontent-%COMP%]{fill:#424244}button.btn-download-csv[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.875em;font-weight:600;margin-bottom:.5em}button.btn-download-csv[_ngcontent-%COMP%]:hover{text-decoration:underline}button.btn-download-csv[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.025)}.spare-class[_ngcontent-%COMP%]{margin-bottom:2em}.spare-class[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25em;font-weight:600;margin-bottom:.5em}.spare-class.not-visible[_ngcontent-%COMP%]{display:none}"]});var Y=e("7v0c");function H(t){let n=t.toFixed(2).toString(),e=n.substring(n.length-6);const o=n.substring(0,n.length-6);return""!==o&&(e=","+e),n=o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+e,n}function K(t,n="\u20b9",e=!1){if(!t)return"\u20b90.00";let o=n;t<0&&(t*=-1,o=`- ${n}`);let c=H(t);return e&&Math.floor(t)!==t&&(c=c.substring(0,c.length-3)),o+c}var X=e("AytR"),W=e("ri4K"),J=e("tk/3");class Z{constructor(t,n){this.authenticationService=t,this.httpClient=n,this.orderUrl=`${X.a.apiBaseUrl}/purchase-request`}get currentUserProfile(){return this.authenticationService.currentUserProfile$.getValue()}requestOrder(t,n){const e=t.items.map(t=>({skuId:t.skuId,skuDescription:t.skuDescription,requestedByUserId:t.createdByUserId,requestedByUserName:t.createdByUserName,uom:t.uom,qty:t.qty}));let o=this.orderUrl.concat("?organisationUnitId=",n);const c={items:e,siteId:this.currentUserProfile.primarySite.id,approvedByUserId:this.currentUserProfile.userId,approvedByUserName:this.currentUserProfile.name,approvedByEmailId:this.currentUserProfile.emailAddress};return this.httpClient.post(o,c)}}Z.\u0275fac=function(t){return new(t||Z)(h.oc(W.a),h.oc(J.b))},Z.\u0275prov=h.ac({token:Z,factory:Z.\u0275fac,providedIn:"root"});var tt=e("IzEk"),nt=e("lw6W"),et=e("ZaN7");function ot(t,n){if(1&t){const t=h.lc();h.kc(0,"button",18),h.rc("click",function(){h.Ic(t);return h.vc().handleQtyChangeBtnClick()}),h.Pc(1),h.jc()}if(2&t){const t=h.vc();h.Tb(1),h.Rc(" ",t.basketItem.qty," ")}}function ct(t,n){if(1&t&&(h.kc(0,"strong"),h.Pc(1),h.jc()),2&t){const t=h.vc();h.Tb(1),h.Rc(" ",t.basketItem.qty," ")}}function it(t,n){1&t&&(h.uc(),h.tc(),h.fc(0,"app-loading-modal"))}function at(t,n){1&t&&(h.uc(),h.tc(),h.fc(0,"app-loading-modal"))}function rt(t,n){if(1&t&&(h.kc(0,"div"),h.Pc(1),h.jc()),2&t){const t=h.vc(4);h.Tb(1),h.Rc(" Please note, minimum order quantity for this product is ",t.skuStock.quantities.minimumOrderQuantity," items. ")}}function st(t,n){if(1&t&&(h.kc(0,"div",35),h.kc(1,"div",25),h.Oc(2,rt,2,1,"div",6),h.jc(),h.jc()),2&t){const t=h.vc(3);h.Tb(2),h.Ac("ngIf",t.qtyForm.value.qty<t.skuStock.quantities.minimumOrderQuantity)}}function dt(t,n){1&t&&(h.kc(0,"span"),h.Pc(1,"Update quantity"),h.jc())}function lt(t,n){1&t&&h.fc(0,"div",36)}function gt(t,n){if(1&t){const t=h.lc();h.kc(0,"div"),h.Oc(1,st,3,1,"div",30),h.kc(2,"form",31),h.rc("submit",function(){h.Ic(t);return h.vc(2).handleUpdateQty()}),h.kc(3,"div",29),h.kc(4,"input",32),h.rc("paste",function(n){h.Ic(t);return h.vc(2).handleQtyClipboard(n)})("contextmenu",function(n){h.Ic(t);return h.vc(2).disableRightClick(n)})("keydown",function(n){h.Ic(t);return h.vc(2).handleQtyInputKeyDown(n)})("keyup",function(n){h.Ic(t);return h.vc(2).handleQtyKeyup(n)}),h.jc(),h.jc(),h.kc(5,"div",22),h.kc(6,"button",33),h.Oc(7,dt,2,0,"span",6),h.Oc(8,lt,1,0,"div",34),h.jc(),h.jc(),h.jc(),h.jc()}if(2&t){const t=h.vc(2);h.Tb(1),h.Ac("ngIf",t.qtyForm.value.qty<t.skuStock.quantities.minimumOrderQuantity),h.Tb(1),h.Ac("formGroup",t.qtyForm),h.Tb(4),h.Ac("disabled",t.qtyForm.value.qty<t.skuStock.quantities.minimumOrderQuantity||t.qtyForm.value.qty<1||t.qtyForm.invalid),h.Tb(1),h.Ac("ngIf",!t.isUpdatingQty),h.Tb(1),h.Ac("ngIf",t.isUpdatingQty)}}function ht(t,n){if(1&t){const t=h.lc();h.uc(),h.tc(),h.kc(0,"app-modal",19),h.rc("modalShouldClose",function(){h.Ic(t);return h.vc().quantityChangeModalVisible=!1})("contextmenu",function(n){h.Ic(t);return h.vc().disableRightClick(n)}),h.kc(1,"article"),h.kc(2,"section",20),h.kc(3,"header",21),h.kc(4,"div",22),h.kc(5,"h1"),h.Pc(6),h.jc(),h.jc(),h.kc(7,"div",23),h.kc(8,"strong"),h.Pc(9,"ID"),h.jc(),h.Pc(10),h.jc(),h.jc(),h.kc(11,"div",24),h.kc(12,"div",25),h.kc(13,"dl"),h.kc(14,"dt"),h.Pc(15,"Description"),h.jc(),h.kc(16,"dd"),h.Pc(17),h.jc(),h.jc(),h.jc(),h.jc(),h.jc(),h.kc(18,"section",26),h.kc(19,"div",21),h.kc(20,"div",27),h.kc(21,"h2"),h.Pc(22,"Order"),h.jc(),h.jc(),h.jc(),h.kc(23,"div",28),h.kc(24,"div",29),h.kc(25,"dl"),h.kc(26,"dt"),h.Pc(27,"In stock"),h.jc(),h.kc(28,"dd"),h.Pc(29),h.jc(),h.jc(),h.jc(),h.kc(30,"div",29),h.kc(31,"dl"),h.kc(32,"dt"),h.Pc(33,"Min. Required Stock"),h.jc(),h.kc(34,"dd"),h.Pc(35),h.jc(),h.jc(),h.jc(),h.kc(36,"div",29),h.kc(37,"dl"),h.kc(38,"dt"),h.Pc(39,"Uom"),h.jc(),h.kc(40,"dd"),h.Pc(41),h.jc(),h.jc(),h.jc(),h.jc(),h.Oc(42,gt,9,5,"div",6),h.jc(),h.jc(),h.jc()}if(2&t){const t=h.vc();h.Tb(6),h.Qc(t.skuStock.sparesGroupName),h.Tb(4),h.Rc(" ",t.skuStock.id," "),h.Tb(7),h.Qc(t.skuStock.description),h.Tb(12),h.Qc(t.skuStock.quantities.inStock),h.Tb(6),h.Qc(t.skuStock.quantities.reOrderLevel),h.Tb(6),h.Qc(t.skuStock.uom),h.Tb(1),h.Ac("ngIf",t.canModifyBasket)}}class ut{constructor(t,n,e,o,c){this.basketService=t,this.authenticationService=n,this.formBuilder=e,this.skuService=o,this.toastService=c,this.itemActionInProgress=!1,this.quantityChangeModalVisible=!1,this.isGettingSkuInfo=!1,this.isUpdatingQty=!1,this.isCurrentUserManager=!1,this.isRequestedUser=!1}ngOnInit(){this.setPermissionBooleans()}ngOnDestroy(){Object(f.b)(this.skuInfoSubscription)}setPermissionBooleans(){this.authenticationService.currentUserHasPermission({[s.l.Spares]:[s.t.CanModifyBasket]}).subscribe(t=>this.canModifyBasket=t),this.authenticationService.currentUserIsManager().subscribe(t=>this.isCurrentUserManager=t),this.currentUserId=this.authenticationService.currentUserProfile$.getValue().userId,this.isRequestedUser=this.currentUserId===this.basketItem.createdByUserId}handleQtyClipboard(t){t.preventDefault()}disableRightClick(t){t.preventDefault()}handleDeleteItem(){this.isCurrentUserManager||this.isRequestedUser?(this.itemActionInProgress=!0,this.basketService.deleteBasketItem(this.basketItem.skuId,this.basketItem.createdByUserId,this.currentUserId).pipe(Object(tt.a)(1)).subscribe(t=>t)):this.toastService.showErrorToast("You do not have permission to delete this basket item!")}handleQtyChangeBtnClick(){this.isCurrentUserManager||this.isRequestedUser?(this.isGettingSkuInfo=!0,this.qtyForm=this.formBuilder.group({qty:[this.basketItem.qty,[c.v.min(1),c.v.max(999999),c.v.required]]}),this.skuInfoSubscription=this.skuService.getSkuStockForSkuId(this.basketItem.skuId).subscribe(t=>{if(this.isGettingSkuInfo=!1,t.length>0)this.skuStock=t[0],this.quantityChangeModalVisible=!0;else{const t="Sorry something went wrong, please try again later";this.toastService.showErrorToast(t)}},t=>{this.toastService.showErrorToast("Sorry something went wrong, please try again later"),this.isGettingSkuInfo=!1})):(this.toastService.showErrorToast("You do not have permission to update this basket item!"),this.isGettingSkuInfo=!1)}handleUpdateQty(){this.isUpdatingQty||(this.isUpdatingQty=!0,this.basketService.updateBasketItem(this.basketItem.skuId,this.qtyForm.value.qty).subscribe(t=>{this.isUpdatingQty=!1,this.quantityChangeModalVisible=!1},t=>{this.isUpdatingQty=!1;const n=t.error;this.toastService.showErrorToast(n)}))}handleQtyKeyup(t){"Enter"===t.key&&this.qtyForm.value.qty>0&&this.qtyForm.value.qty.toString().length>0&&this.qtyForm.value.qty>=this.skuStock.quantities.minimumOrderQuantity&&(t.preventDefault(),this.handleUpdateQty())}handleQtyInputKeyDown(t){const n=this.qtyForm.value.qty.toString().length>=6;this.qtyForm.valid&&this.qtyForm.value.qty>0&&this.qtyForm.value.qty>=this.skuStock.quantities.minimumOrderQuantity&&"Enter"===t.key||"Backspace"!==t.key&&"Delete"!==t.key&&(n||isNaN(t.key)||32===t.keyCode)&&t.preventDefault()}}function mt(t,n){1&t&&h.fc(0,"div",3)}function pt(t,n){1&t&&(h.kc(0,"div",4),h.Pc(1," Your basket is empty "),h.kc(2,"div",5),h.kc(3,"div",6),h.kc(4,"a",7),h.kc(5,"span"),h.Pc(6,"Add more spares"),h.jc(),h.jc(),h.jc(),h.jc(),h.jc())}function kt(t,n){if(1&t&&h.fc(0,"app-basket-item",16),2&t){const t=n.$implicit;h.Ac("basketItem",t)}}function Pt(t,n){if(1&t&&(h.kc(0,"div",17),h.Pc(1),h.jc()),2&t){const t=h.vc(2);h.Tb(1),h.Rc(" ",t.errorMessage," ")}}function Ot(t,n){1&t&&(h.kc(0,"span"),h.Pc(1,"Place Order"),h.jc())}function ft(t,n){1&t&&h.fc(0,"div",3)}function bt(t,n){if(1&t){const t=h.lc();h.kc(0,"button",18),h.rc("click",function(){h.Ic(t);return h.vc(2).handlesPlaceOrderClick()}),h.Oc(1,Ot,2,0,"span",2),h.Oc(2,ft,1,0,"div",0),h.jc()}if(2&t){const t=h.vc(2);h.Tb(1),h.Ac("ngIf",!t.isPlacingOrder),h.Tb(1),h.Ac("ngIf",t.isPlacingOrder)}}function Ct(t,n){if(1&t&&(h.kc(0,"div"),h.kc(1,"table"),h.kc(2,"thead"),h.kc(3,"th"),h.Pc(4,"ID"),h.jc(),h.kc(5,"th"),h.kc(6,"span"),h.Pc(7,"Description"),h.jc(),h.kc(8,"span",8),h.Pc(9," \xa0& Id"),h.jc(),h.jc(),h.kc(10,"th"),h.Pc(11,"Order Qty"),h.jc(),h.kc(12,"th"),h.Pc(13,"UOM"),h.jc(),h.kc(14,"th"),h.Pc(15,"Added By"),h.jc(),h.fc(16,"th"),h.jc(),h.kc(17,"tbody"),h.Oc(18,kt,1,1,"app-basket-item",9),h.jc(),h.jc(),h.Oc(19,Pt,2,1,"div",10),h.kc(20,"div",11),h.kc(21,"div",12),h.kc(22,"a",13),h.kc(23,"span"),h.Pc(24,"Add more spares"),h.jc(),h.jc(),h.jc(),h.kc(25,"div",14),h.Oc(26,bt,3,2,"button",15),h.jc(),h.jc(),h.jc()),2&t){const t=h.vc();h.Tb(18),h.Ac("ngForOf",t.basket.items),h.Tb(1),h.Ac("ngIf",t.errorMessage),h.Tb(7),h.Ac("ngIf",t.canPlaceOrder)}}ut.\u0275fac=function(t){return new(t||ut)(h.ec(s.e),h.ec(s.d),h.ec(c.d),h.ec(s.s),h.ec(s.v))},ut.\u0275cmp=h.Yb({type:ut,selectors:[["app-basket-item"]],hostVars:2,hostBindings:function(t,n){2&t&&h.Wb("action-in-progress",n.itemActionInProgress)},inputs:{basketItem:"basketItem"},decls:31,vars:12,consts:[[1,"sku-id-cell"],[1,"description-cell"],[1,"desktop-only"],[1,"mobile-only"],[1,"qty-cell"],["type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"uom-cell"],[1,"user-cell"],[1,"delete-row-cell"],[1,"delete-btn",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 14 18"],["d","M12.333 3.933L1.267 3.8c-.133.133-.4.133-.533.267A.8.8 0 0 0 .6 4.6l1.2 11.6c0 .4.267.533.667.533h8.267a.61.61 0 0 0 .666-.533l1.467-11.6a.8.8 0 0 0-.133-.533 1.343 1.343 0 0 0-.401-.134zm-2 11.6h-7.2L2.067 5.267h9.467z","transform","translate(.2 1.267)",1,"cls-1"],["d","M13.333 3.2h-2.666A3.739 3.739 0 0 0 6.933 0a3.607 3.607 0 0 0-3.6 3.2H.667A.63.63 0 0 0 0 3.867a.63.63 0 0 0 .667.667h12.666A.63.63 0 0 0 14 3.867a.63.63 0 0 0-.667-.667zm-6.4-1.867a2.442 2.442 0 0 1 2.4 1.867H4.667a2.407 2.407 0 0 1 2.266-1.867z",1,"cls-1"],["d","M5.367 13.467a.63.63 0 0 0 .667-.667V6.667A.63.63 0 0 0 5.367 6a.63.63 0 0 0-.667.667v6.267c0 .266.4.533.667.533z","transform","translate(1.567 2)",1,"cls-1"],["d","M3.9 13.5a.714.714 0 0 0 .667-.667l-.534-6.266a.714.714 0 0 0-.666-.667.845.845 0 0 0-.667.8l.533 6.267a.886.886 0 0 0 .667.533z","transform","translate(.9 1.967)",1,"cls-1"],["d","M6.942 13.475a.63.63 0 0 0 .667-.667l.533-6.267c.133-.267-.133-.533-.533-.533-.4-.133-.667.133-.667.533l-.533 6.267c-.134.401.133.667.533.667z","transform","translate(2.125 1.991)",1,"cls-1"],["class","basket-item-modal",3,"modalShouldClose","contextmenu",4,"ngIf"],["type","button",3,"click"],[1,"basket-item-modal",3,"modalShouldClose","contextmenu"],[1,"generic-info"],[1,"row"],[1,"col-8"],[1,"col-4","text-right"],[1,"row","description-row","mt-4"],[1,"col-12"],[1,"stock-info"],[1,"col12"],[1,"info-row","row"],[1,"col-4"],["class","row notice-row",4,"ngIf"],[1,"row","add-to-basket-row",3,"formGroup","submit"],["formControlName","qty","type","text","pattern","[0-9]*","inputmode","text","ng-pattern","[0-9]*","maxlength","6",1,"form-control","quantity-input",3,"paste","contextmenu","keydown","keyup"],[1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner light",4,"ngIf"],[1,"row","notice-row"],[1,"spinner","light"]],template:function(t,n){1&t&&(h.kc(0,"td",0),h.kc(1,"span"),h.Pc(2),h.jc(),h.jc(),h.kc(3,"td",1),h.kc(4,"span",2),h.Pc(5),h.jc(),h.kc(6,"span",3),h.Pc(7),h.fc(8,"br"),h.Pc(9),h.jc(),h.jc(),h.kc(10,"td",4),h.Oc(11,ot,2,1,"button",5),h.Oc(12,ct,2,1,"strong",6),h.jc(),h.kc(13,"td",7),h.kc(14,"span"),h.Pc(15),h.jc(),h.jc(),h.kc(16,"td",8),h.kc(17,"span"),h.Pc(18),h.jc(),h.jc(),h.kc(19,"td",9),h.kc(20,"button",10),h.rc("click",function(){return n.handleDeleteItem()}),h.uc(),h.kc(21,"svg",11),h.fc(22,"defs"),h.fc(23,"path",12),h.fc(24,"path",13),h.fc(25,"path",14),h.fc(26,"path",15),h.fc(27,"path",16),h.jc(),h.jc(),h.jc(),h.Oc(28,it,1,0,"app-loading-modal",6),h.Oc(29,at,1,0,"app-loading-modal",6),h.Oc(30,ht,43,7,"app-modal",17)),2&t&&(h.Tb(2),h.Qc(n.basketItem.skuId),h.Tb(3),h.Qc(n.basketItem.skuDescription),h.Tb(2),h.Qc(n.basketItem.skuDescription),h.Tb(2),h.Rc("ID-",n.basketItem.skuId,""),h.Tb(2),h.Ac("ngIf",n.canModifyBasket),h.Tb(1),h.Ac("ngIf",!n.canModifyBasket),h.Tb(3),h.Qc(n.basketItem.uom),h.Tb(3),h.Qc(n.basketItem.createdByUserName),h.Tb(2),h.Ac("disabled",!n.canModifyBasket),h.Tb(8),h.Ac("ngIf",n.itemActionInProgress),h.Tb(1),h.Ac("ngIf",n.isGettingSkuInfo),h.Tb(1),h.Ac("ngIf",n.quantityChangeModalVisible&&n.skuStock&&!n.isGettingSkuInfo))},directives:[o.k,et.a,b.a,c.w,c.n,c.g,c.c,c.m,c.f,c.s,c.i],styles:['@charset "UTF-8";@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}[_nghost-%COMP%]{display:table-row;background-color:#f2f2f2;line-height:1.1;position:relative}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{padding:.8em;text-align:center;vertical-align:middle;height:5em;border-bottom:2px solid #fff;position:relative}[_nghost-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600}[_nghost-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){background-color:#dedede;font-weight:600}[_nghost-%COMP%]   td[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{margin:0 auto;font-size:1.5em}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{border:0;position:absolute;top:0;left:0;width:100%;height:100%;transition:all .2s ease-in-out;background-color:transparent}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.07)}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1.1)}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[disabled][_ngcontent-%COMP%]{opacity:.3;background-color:transparent;cursor:default}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[disabled][_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1em;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(1);transition:all .2s ease-in-out}[_nghost-%COMP%]   .delete-row-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#424244}[_nghost-%COMP%]   .qty-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #e5e5e5;background:#fff;border-radius:4px;font-weight:600;text-align:center;width:4.5em;padding:.7em 0;transition:all .2s ease-in-out}[_nghost-%COMP%]   .qty-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#c5c5c5}[_nghost-%COMP%]   .qty-cell[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:transparent;border:none}.action-in-progress[_nghost-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f2f2f2}.action-in-progress[_nghost-%COMP%]   td[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(app-loading-modal){opacity:.4}  .basket-item-modal .taro-modal.taro-modal{text-align:left;background-color:#f2f2f2;height:29rem;max-height:29rem}app-modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0 -1em}app-modal[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0}app-modal[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){font-weight:0}app-modal[_ngcontent-%COMP%]   .generic-info[_ngcontent-%COMP%]{margin:-3rem -3rem 0;background-color:#fff;padding:3rem 3rem 2rem;box-shadow:inset 0 -2px 2px rgba(0,0,0,.13)}app-modal[_ngcontent-%COMP%]   .generic-info[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right!important}app-modal[_ngcontent-%COMP%]   \u0326\u0326[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1em;font-weight:700}app-modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e5e5}app-modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:.5em}app-modal[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.75em;text-transform:uppercase;margin-bottom:.2em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{margin-top:1.5rem}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1em;margin-bottom:1em;font-weight:700}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{background-color:#fff;padding:1.5em 0;text-align:center}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin-bottom:0}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.75em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{font-size:1.875em;margin:.2em 0 0;font-weight:200}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{margin-top:.8em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{display:inline-block;font-weight:600;font-size:.75rem;text-transform:uppercase;margin-top:.6rem}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:#6a955b;margin:0 0 0 .5em}app-modal[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border:1px solid #bcbcbc;border-width:0 1px}app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]{margin-top:.9em;text-align:center}app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:.5em}app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   .form-control[_ngcontent-%COMP%]{text-align:center;background-color:#fff;padding-right:1em;padding-left:1em}app-modal[_ngcontent-%COMP%]   .notice-row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%]{background:#c8d5c3;padding:1em;margin:.4em 0;border-radius:.5em;line-height:1.4}@media screen and (min-width:768px){.generic-info[_ngcontent-%COMP%]{margin:-3rem;padding:3rem 3rem 2rem}}@media screen and (max-width:768px){[_nghost-%COMP%]{margin-bottom:3.5em;padding-right:7em;display:flex;align-items:center;border:1px solid rgba(0,0,0,.1);border-bottom:none}[_nghost-%COMP%]   .generic-info[_ngcontent-%COMP%]{margin:-1.5rem;padding:1.5rem 1.5rem 0}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{display:none;border-bottom:none;height:auto}[_nghost-%COMP%]   td.delete-row-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   td.description-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   td.qty-cell[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   td.description-cell[_ngcontent-%COMP%]{width:60%;display:inline-flex;text-align:left}[_nghost-%COMP%]   td.description-cell[_ngcontent-%COMP%] > .desktop-only[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   td.description-cell[_ngcontent-%COMP%] > .mobile-only[_ngcontent-%COMP%]{display:block;font-weight:500}[_nghost-%COMP%]   td.qty-cell[_ngcontent-%COMP%]{white-space:nowrap;width:40%}[_nghost-%COMP%]   td.qty-cell[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:inline-block;font-weight:700;margin-left:.5em}[_nghost-%COMP%]   td.delete-row-cell[_ngcontent-%COMP%]{display:block;width:calc(100% + 2px);position:absolute;top:100%;margin:-1px;background-color:transparent}[_nghost-%COMP%]   td.delete-row-cell[_ngcontent-%COMP%]   .delete-btn.delete-btn[_ngcontent-%COMP%]{background:#eaeaea;padding:1.5em 0;border-bottom-left-radius:.5em;border-bottom-right-radius:.5em;border:1px solid rgba(0,0,0,.05);border-top:none}[_nghost-%COMP%]   td.delete-row-cell[_ngcontent-%COMP%]   .delete-btn.delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#666667}[_nghost-%COMP%]   td.delete-row-cell[_ngcontent-%COMP%]   .delete-btn.delete-btn[disabled][_ngcontent-%COMP%]{opacity:.5}}@media screen and (max-width:412px){app-modal[_ngcontent-%COMP%]   .add-to-basket-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em}}@media screen and (max-width:360px) and (min-height:640px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 17em);max-height:calc(100% - 17em)}}@media screen and (max-width:412px) and (min-height:732px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 23em);max-height:calc(100% - 23em)}}@media screen and (max-width:412px) and (min-height:896px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 35em);max-height:calc(100% - 35em)}}@media screen and (max-width:360px) and (min-height:740px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 24em);max-height:calc(100% - 24em)}}@media screen and (max-width:768px) and (min-height:1024px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 44em);max-height:calc(100% - 44em)}}@media screen and (min-width:1440px) and (min-height:900px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 32em);max-height:calc(100% - 32em)}}@media screen and (min-height:1280px){  .order-stock-sku-modal .taro-modal.taro-modal.taro-modal{height:calc(100% - 59.5em);max-height:calc(100% - 59.5em)}}']});class Mt{constructor(t,n,e,o,c,i){this.basketService=t,this.authenticationService=n,this.toastService=e,this.orderService=o,this.router=c,this.userService=i,this.numberToPriceString=K,this.isPlacingOrder=!1,this.isGettingBasket=!1}ngOnInit(){this.isGettingBasket=!0,this.basketService.basket$.subscribe(t=>{this.isGettingBasket=!1,t&&t.items&&(this.basket=t)}),this.setPermissionBooleans()}setPermissionBooleans(){this.authenticationService.currentUserHasPermission({[s.l.Spares]:[s.t.CanPlaceOrder]}).subscribe(t=>this.canPlaceOrder=t),this.authenticationService.currentUserHasPermission({[s.l.Spares]:[s.t.CanViewOrderHistory]}).subscribe(t=>this.canViewOrderHistory=t)}placeOrder(){this.isPlacingOrder||(this.isPlacingOrder=!0,this.errorMessage="",this.orderService.requestOrder(this.basket,this.userService.primaryOrganisationId).subscribe(t=>{this.isPlacingOrder=!1,this.toastService.showToast(new s.u("Request details emailed to purchase team")),this.basketService.getBasket().pipe(Object(tt.a)(1)).subscribe(t=>{this.basketService.basket$.next(new Y.a(t))}),this.router.navigate(["spares/stock-list"])},t=>{this.isPlacingOrder=!1;const n=t.error;this.toastService.showErrorToast(n)},()=>{this.isPlacingOrder=!1,this.errorMessage="Sorry something went wrong... please try again later"}))}handlesPlaceOrderClick(){this.isPlacingOrder||this.placeOrder()}}Mt.\u0275fac=function(t){return new(t||Mt)(h.ec(s.e),h.ec(s.d),h.ec(s.v),h.ec(Z),h.ec(a.c),h.ec(nt.a))},Mt.\u0275cmp=h.Yb({type:Mt,selectors:[["app-order-basket"]],decls:6,vars:3,consts:[["class","spinner light",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"spinner","light"],[1,"text-center"],[1,"row"],[1,"col-md-4","offset-md-4"],["routerLink","/product-catalogue",1,"btn","add-btn","btn-block","mt-2"],[1,"mobile-only"],[3,"basketItem",4,"ngFor","ngForOf"],["class","alert alert-danger text-center",4,"ngIf"],[1,"actions","row"],[1,"col-sm-7"],["routerLink","/spares/stock-list",1,"btn","add-btn"],[1,"col-sm-5"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],[3,"basketItem"],[1,"alert","alert-danger","text-center"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,n){1&t&&(h.fc(0,"app-section-header"),h.kc(1,"h2"),h.Pc(2," Order Basket\n"),h.jc(),h.Oc(3,mt,1,0,"div",0),h.Oc(4,pt,7,0,"div",1),h.Oc(5,Ct,27,3,"div",2)),2&t&&(h.Tb(3),h.Ac("ngIf",n.isGettingBasket),h.Tb(1),h.Ac("ngIf",!n.basket&&!n.isGettingBasket||0===n.basket.items.length&&!n.isGettingBasket),h.Tb(1),h.Ac("ngIf",n.basket&&n.basket.items.length>0))},directives:[u.a,o.k,a.d,o.j,ut],styles:["h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;margin-top:-.8em;margin-bottom:1em}table[_ngcontent-%COMP%]{width:100%;margin-top:2em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{text-transform:uppercase;font-size:.875em;text-align:center}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:15%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:30%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2) > .mobile-only[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:20%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:5%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){width:20%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6){width:10%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f2f2f2;line-height:1.1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8em;text-align:center;vertical-align:middle;position:relative;height:5em;border-bottom:2px solid #fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.summary-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left;padding-left:2.5rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.summary-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){font-weight:600}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.tax-row[_ngcontent-%COMP%]{background-color:#dedede}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.total-row[_ngcontent-%COMP%]{background-color:#ccc}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.credit-row[_ngcontent-%COMP%]{background-color:#fff}.actions.row[_ngcontent-%COMP%]{margin-top:2em}.actions.row[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{margin-left:3em}.actions.row[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:768px){table[_ngcontent-%COMP%]{margin-top:1em}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:flex;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none;width:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){text-align:left;display:inline-block;padding-left:.8em;width:60%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2) > .mobile-only[_ngcontent-%COMP%]{display:inline-block}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){display:inline-block;width:40%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > .mobile-only[_ngcontent-%COMP%]{display:block}table[_ngcontent-%COMP%]   app-basket-item[_ngcontent-%COMP%]{display:inline-flex;padding-right:0;width:100%}table[_ngcontent-%COMP%]   app-basket-item[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;align-items:center}table[_ngcontent-%COMP%]   app-basket-item[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;height:auto}table[_ngcontent-%COMP%]   app-basket-item[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:70%}.actions.row[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{display:block;margin-bottom:.5em;margin-left:0}.actions.row[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}}"]});class _t{constructor(){}ngOnInit(){}}_t.\u0275fac=function(t){return new(t||_t)},_t.\u0275cmp=h.Yb({type:_t,selectors:[["app-order-history"]],decls:1,vars:0,template:function(t,n){1&t&&h.fc(0,"app-section-header")},directives:[u.a],styles:[""]});const vt={[s.l.Spares]:[s.t.CanViewStockList]},wt={[s.l.Spares]:[s.t.CanAddToBasket]},yt={[s.l.Spares]:[s.t.CanViewOrderHistory]},xt=[{path:"stock-list",component:$,canActivate:[r.a],data:{permissionsRequired:vt}},{path:"",component:k},{path:"order-basket",component:Mt,canActivate:[r.a],data:{permissionsRequired:wt}},{path:"order-history",component:_t,canActivate:[r.a],data:{permissionsRequired:yt}}];class St{}St.\u0275fac=function(t){return new(t||St)},St.\u0275mod=h.cc({type:St}),St.\u0275inj=h.bc({imports:[[a.e.forChild(xt)],a.e]});class jt{}jt.\u0275fac=function(t){return new(t||jt)},jt.\u0275mod=h.cc({type:jt}),jt.\u0275inj=h.bc({providers:[],imports:[[o.b,c.t,i.a,St]]})},"3N8a":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e("quSY");class c extends o.a{constructor(t,n){super()}schedule(t,n=0){return this}}class i extends c{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const e=this.id,o=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(o,e,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,e=0){return setInterval(t.flush.bind(t,this),e)}recycleAsyncId(t,n,e=0){if(null!==e&&this.delay===e&&!1===this.pending)return n;clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const e=this._execute(t,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let e,o=!1;try{this.work(t)}catch(c){o=!0,e=!!c&&c||new Error(c)}if(o)return this.unsubscribe(),e}_unsubscribe(){const t=this.id,n=this.scheduler,e=n.actions,o=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&e.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null}}},D0XW:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("3N8a");const c=new(e("IjjT").a)(o.a)},IjjT:function(t,n,e){"use strict";e.d(n,"a",function(){return c});class o{constructor(t,n=o.now){this.SchedulerAction=t,this.now=n}schedule(t,n=0,e){return new this.SchedulerAction(this,t).schedule(e,n)}}o.now=()=>Date.now();class c extends o{constructor(t,n=o.now){super(t,()=>c.delegate&&c.delegate!==this?c.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,n=0,e){return c.delegate&&c.delegate!==this?c.delegate.schedule(t,n,e):super.schedule(t,n,e)}flush(t){const{actions:n}=this;if(this.active)return void n.push(t);let e;this.active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}}}},Kj3r:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e("7o/Q"),c=e("D0XW");function i(t,n=c.a){return e=>e.lift(new a(t,n))}class a{constructor(t,n){this.dueTime=t,this.scheduler=n}call(t,n){return n.subscribe(new r(t,this.dueTime,this.scheduler))}}class r extends o.a{constructor(t,n,e){super(t),this.dueTime=n,this.scheduler=e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function s(t){t.debouncedNext()}},OeDX:function(t,n,e){"use strict";e.d(n,"a",function(){return g});var o=e("tyNb"),c=e("o0su"),i=e("fXoL"),a=e("ofXK");function r(t,n){if(1&t&&(i.kc(0,"li",7),i.kc(1,"a",8),i.Pc(2),i.jc(),i.jc()),2&t){const t=i.vc();i.Tb(1),i.Bc("routerLink",t.breadcrumbs[0].route),i.Tb(1),i.Qc(t.breadcrumbs[0].label)}}function s(t,n){if(1&t&&(i.kc(0,"a",8),i.Pc(1),i.jc()),2&t){const t=i.vc().$implicit;i.Bc("routerLink",t.route),i.Tb(1),i.Qc(t.label)}}function d(t,n){if(1&t&&(i.kc(0,"span"),i.Pc(1),i.jc()),2&t){const t=i.vc().$implicit;i.Tb(1),i.Qc(t.label)}}function l(t,n){if(1&t&&(i.kc(0,"li",7),i.Oc(1,s,2,2,"a",9),i.Oc(2,d,2,1,"span",10),i.jc()),2&t){const t=n.index,e=i.vc();i.Wb("active",t===e.breadcrumbs.length-1),i.Tb(1),i.Ac("ngIf",t<e.breadcrumbs.length-1),i.Tb(1),i.Ac("ngIf",t===e.breadcrumbs.length-1)}}class g{constructor(t,n,e){this.router=t,this.location=n,this.searchFilterService=e,this.breadcrumbs=[]}ngOnInit(){this.customBreadCrumbsRoute?this.constructBreadcrumbs(this.customBreadCrumbsRoute):this.constructBreadcrumbs(this.router.url),this.router.events.subscribe(t=>{t instanceof o.b&&this.constructBreadcrumbs(t.url)})}ngOnDestroy(){this.routerSub&&!this.routerSub.closed&&this.routerSub.unsubscribe()}constructBreadcrumbs(t){this.breadcrumbs=[];const n=t.split("/");if(n.splice(0,1),this.breadcrumbsToPopQty)for(let e=0;e<this.breadcrumbsToPopQty;e++)n.pop();for(let e=0;e<n.length;e++){const t=Object.assign({label:this.toTitleCase(decodeURIComponent(n[e]))},e>0?{route:`${this.breadcrumbs[e-1].route}/${n[e]}`}:{route:`/${n[e]}`});this.breadcrumbs.push(t)}this.customCurrentPageTitle&&(this.breadcrumbs[this.breadcrumbs.length-1]={label:this.customCurrentPageTitle}),this.customPreviousPageTitle&&(this.breadcrumbs[this.breadcrumbs.length-2]={label:this.customPreviousPageTitle,route:this.customPreviousPageRoute})}toTitleCase(t){return t.toLowerCase().replace(/(?:^|[\s-/])\w/g,function(t){return t.toUpperCase()}).replace(/\-/g," ")}handleBackLink(){this.currentPageTitle=this.breadcrumbs[this.breadcrumbs.length-1].label,this.customCurrentPageTitle&&"#WO"===this.customCurrentPageTitle.substring(0,3)&&this.searchFilterService.assignWOSearchFilterCache(),this.currentPageTitle,this.searchFilterService.assignPMSearchFilterCache(),this.currentPageTitle,this.searchFilterService.assignCLSearchFilterCache(),this.location.back()}}g.\u0275fac=function(t){return new(t||g)(i.ec(o.c),i.ec(a.g),i.ec(c.r))},g.\u0275cmp=i.Yb({type:g,selectors:[["app-section-header"]],inputs:{customCurrentPageTitle:"customCurrentPageTitle",customPreviousPageTitle:"customPreviousPageTitle",customPreviousPageRoute:"customPreviousPageRoute",customBreadCrumbsRoute:"customBreadCrumbsRoute",breadcrumbsToPopQty:"breadcrumbsToPopQty"},decls:9,vars:2,consts:[[1,"back-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 5.193 8.797"],["data-name","Path 298","d","M5.193 8l-.8.8-4.4-4.4 4.4-4.4.8.8c.014.01-3.625 3.594-3.625 3.594S5.193 8.006 5.193 8z"],["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],[4,"ngIf"]],template:function(t,n){1&t&&(i.kc(0,"header"),i.kc(1,"a",0),i.rc("click",function(){return n.handleBackLink()}),i.uc(),i.kc(2,"svg",1),i.fc(3,"path",2),i.jc(),i.Pc(4," Back "),i.jc(),i.tc(),i.kc(5,"nav",3),i.kc(6,"ol",4),i.Oc(7,r,3,2,"li",5),i.Oc(8,l,3,4,"li",6),i.jc(),i.jc(),i.jc()),2&t&&(i.Tb(7),i.Ac("ngIf",1===n.breadcrumbs.length),i.Tb(1),i.Ac("ngForOf",n.breadcrumbs))},directives:[a.k,a.j,o.d],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:2em}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:#424244}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.4em;margin-right:.5em}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#424244}header[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:0}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600;padding:.5em 1em .5em 0}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{padding:.5em 0}header[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}@media screen and (max-width:399px){header[_ngcontent-%COMP%]{font-size:.65rem}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{padding:.5em 1.3em .5em 0}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.3rem}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.3rem}}@media screen and (max-width:320px){header[_ngcontent-%COMP%]{font-size:.75em}}"]})},QYs8:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("ofXK"),c=e("tyNb"),i=e("3Pt+"),a=e("fXoL");class r{}r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.cc({type:r}),r.\u0275inj=a.bc({imports:[[o.b,c.e,i.t,i.h],o.b,i.h]})},lw6W:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("AytR"),c=e("ri4K"),i=e("fXoL"),a=e("tk/3");class r{constructor(t,n){this.httpClient=t,this.authenticationService=n,this.userListURL=`${o.a.apiBaseUrl}/user/filter/tech-mngr/sites`}get primarySiteId(){const t=this.authenticationService.currentUserProfile$.getValue();return t&&t.primarySite?t.primarySite.id:null}get primaryOrganisationId(){const t=this.authenticationService.currentUserProfile$.getValue();return t&&t.primarySite?t.primarySite.organisationId:null}getUserList(t){return this.httpClient.get(`${this.userListURL}/${this.primarySiteId}?OrganisationId=${this.primaryOrganisationId}&searchText=${t}`)}}r.\u0275fac=function(t){return new(t||r)(i.oc(a.b),i.oc(c.a))},r.\u0275prov=i.ac({token:r,factory:r.\u0275fac,providedIn:"root"})},oeRM:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var o=e("fXoL"),c=e("ofXK");function i(t,n){if(1&t&&(o.kc(0,"div",6),o.kc(1,"div",7),o.Pc(2),o.jc(),o.jc()),2&t){const t=o.vc();o.Tb(2),o.Rc(" ",t.modalTitleText," ")}}function a(t,n){if(1&t){const t=o.lc();o.kc(0,"button",8),o.rc("click",function(){o.Ic(t);return o.vc().modalShouldClose.emit()}),o.uc(),o.kc(1,"svg",9),o.kc(2,"g",10),o.kc(3,"g",11),o.fc(4,"path",12),o.jc(),o.jc(),o.jc(),o.jc()}}const r=["*",[["","footer",""]]];class s{constructor(t){this.renderer=t,this.hideModalTitle=!1,this.modalTitleText="",this.modalShouldClose=new o.t,this.needsBackdrop=!0}ngOnInit(){this.needsBackdrop=!document.documentElement.classList.contains("no-scroll"),this.needsBackdrop&&this.renderer.addClass(document.documentElement,"no-scroll")}ngOnDestroy(){this.needsBackdrop&&this.renderer.removeClass(document.documentElement,"no-scroll")}}s.\u0275fac=function(t){return new(t||s)(o.ec(o.T))},s.\u0275cmp=o.Yb({type:s,selectors:[["app-modal"]],inputs:{hideModalTitle:"hideModalTitle",modalTitleText:"modalTitleText"},outputs:{modalShouldClose:"modalShouldClose"},ngContentSelectors:["*","[footer]"],decls:8,vars:2,consts:[[1,"taro-modal-wrapper"],[1,"taro-modal"],["class","modal-title",4,"ngIf"],["title","Close","class","taro-modal-close",3,"click",4,"ngIf"],[1,"taro-modal-content"],[1,"taro-modal-click-behind",3,"click"],[1,"modal-title"],[1,"title-text"],["title","Close",1,"taro-modal-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.781 10.782"],["data-name","Group 620"],["data-name","Symbol 85 \u2013 1"],["data-name","Union 3","d","M5.391 6.371L.98 10.782 0 9.8l4.411-4.409L0 .98.98 0l4.411 4.411L9.8 0l.981.98-4.41 4.411L10.782 9.8l-.981.981z","fill","#424244"]],template:function(t,n){1&t&&(o.zc(r),o.kc(0,"div",0),o.kc(1,"div",1),o.Oc(2,i,3,1,"div",2),o.Oc(3,a,5,0,"button",3),o.kc(4,"div",4),o.yc(5),o.jc(),o.yc(6,1),o.jc(),o.kc(7,"button",5),o.rc("click",function(){return n.modalShouldClose.emit()}),o.jc(),o.jc()),2&t&&(o.Tb(2),o.Ac("ngIf",n.hideModalTitle),o.Tb(1),o.Ac("ngIf",!n.hideModalTitle))},directives:[c.k],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}.modal-title[_ngcontent-%COMP%]{color:#fff;font-size:1.25em;font-weight:600;padding:.5em}.modal-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin-left:1em}.taro-modal[_ngcontent-%COMP%]{position:fixed;z-index:400;width:calc(100% - 2em);height:calc(100% - 2em);left:50%;top:50%;backface-visibility:hidden;transform:scale(1) translate3d(-50%,-50%,0);border:1px solid #afafaf;background-color:#fff;box-shadow:0 3px 20px 5px #0000001f;border-radius:5px;animation:expand .2s ease-in-out;transform-origin:top left;max-width:35rem;max-height:40rem}.taro-modal[_ngcontent-%COMP%]   .taro-modal-content[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;padding:3rem;overflow-y:scroll;-webkit-overflow-scrolling:touch}.taro-modal[_ngcontent-%COMP%]   .taro-modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media screen and (max-width:768px){.taro-modal[_ngcontent-%COMP%]   .taro-modal-content[_ngcontent-%COMP%]{padding:1.5rem}}  .quagga-output-visible .taro-modal{left:0;top:0;transform:scale(1) translateZ(0);max-width:100%;width:100%;max-height:100%;height:100%}@keyframes expand{0%{transform:scale(.6) translate3d(-50%,-20%,0);opacity:0}to{transform:scale(1) translate3d(-50%,-50%,0);opacity:1}}.taro-modal-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;right:0;z-index:400}.taro-modal-close[_ngcontent-%COMP%]{position:absolute;z-index:2;right:0;top:0;width:1.8em;height:1.8em;font-size:1.2em;padding:.55em;border:none;background:none;line-height:0;transition:all .1s ease-in-out}.taro-modal-close[_ngcontent-%COMP%]:hover{padding:.45em;opacity:1}.taro-modal-click-behind[_ngcontent-%COMP%]{background:none;border:none;cursor:auto;display:none}@media screen and (min-width:600px){.no-scroll[_nghost-%COMP%]   .taro-modal-click-behind[_ngcontent-%COMP%], .no-scroll   [_nghost-%COMP%]   .taro-modal-click-behind[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;cursor:auto}}"]})}}]);