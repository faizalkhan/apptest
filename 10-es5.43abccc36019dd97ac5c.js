!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,c,r,o,s=[],a=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=r.call(n)).done)&&(s.push(i.value),s.length!==e);a=!0);}catch(h){l=!0,c=h}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw c}}return s}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=o(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}}).apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}function l(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=k(t);if(e){var c=k(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){u(n,t);var e=f(n);function n(t,i){var c;return s(this,n),(c=e.call(this,t,i)).scheduler=t,c.work=i,c.pending=!1,c}return l(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(c){i=!0,n=!!c&&c||new Error(c)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){u(n,t);var e=f(n);function n(t,i){return s(this,n),e.call(this)}return l(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("3N8a"),c=new(n("IjjT").a)(i.a)},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;s(this,t),this.SchedulerAction=e,this.now=n}return l(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();i.now=function(){return Date.now()};var c=function(t){u(n,t);var e=f(n);function n(t){var c,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return s(this,n),(c=e.call(this,t,function(){return n.delegate&&n.delegate!==m(c)?n.delegate.now():r()})).actions=[],c.active=!1,c.scheduled=void 0,c}return l(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):r(k(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(i)},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q"),c=n("D0XW");function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a;return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){s(this,t),this.dueTime=e,this.scheduler=n}return l(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}]),t}(),a=function(t){u(n,t);var e=f(n);function n(t,i,c){var r;return s(this,n),(r=e.call(this,t)).dueTime=i,r.scheduler=c,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return l(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(h,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function h(t){t.debouncedNext()}},OeDX:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("tyNb"),c=n("o0su"),r=n("fXoL"),o=n("ofXK");function a(t,e){if(1&t&&(r.kc(0,"li",7),r.kc(1,"a",8),r.Pc(2),r.jc(),r.jc()),2&t){var n=r.vc();r.Tb(1),r.Bc("routerLink",n.breadcrumbs[0].route),r.Tb(1),r.Qc(n.breadcrumbs[0].label)}}function h(t,e){if(1&t&&(r.kc(0,"a",8),r.Pc(1),r.jc()),2&t){var n=r.vc().$implicit;r.Bc("routerLink",n.route),r.Tb(1),r.Qc(n.label)}}function u(t,e){if(1&t&&(r.kc(0,"span"),r.Pc(1),r.jc()),2&t){var n=r.vc().$implicit;r.Tb(1),r.Qc(n.label)}}function d(t,e){if(1&t&&(r.kc(0,"li",7),r.Oc(1,h,2,2,"a",9),r.Oc(2,u,2,1,"span",10),r.jc()),2&t){var n=e.index,i=r.vc();r.Wb("active",n===i.breadcrumbs.length-1),r.Tb(1),r.Ac("ngIf",n<i.breadcrumbs.length-1),r.Tb(1),r.Ac("ngIf",n===i.breadcrumbs.length-1)}}var f=function(){function t(e,n,i){s(this,t),this.router=e,this.location=n,this.searchFilterService=i,this.breadcrumbs=[]}return l(t,[{key:"ngOnInit",value:function(){var t=this;this.customBreadCrumbsRoute?this.constructBreadcrumbs(this.customBreadCrumbsRoute):this.constructBreadcrumbs(this.router.url),this.router.events.subscribe(function(e){e instanceof i.b&&t.constructBreadcrumbs(e.url)})}},{key:"ngOnDestroy",value:function(){this.routerSub&&!this.routerSub.closed&&this.routerSub.unsubscribe()}},{key:"constructBreadcrumbs",value:function(t){this.breadcrumbs=[];var e=t.split("/");if(e.splice(0,1),this.breadcrumbsToPopQty)for(var n=0;n<this.breadcrumbsToPopQty;n++)e.pop();for(var i=0;i<e.length;i++){var c=Object.assign({label:this.toTitleCase(decodeURIComponent(e[i]))},i>0?{route:"".concat(this.breadcrumbs[i-1].route,"/").concat(e[i])}:{route:"/".concat(e[i])});this.breadcrumbs.push(c)}this.customCurrentPageTitle&&(this.breadcrumbs[this.breadcrumbs.length-1]={label:this.customCurrentPageTitle}),this.customPreviousPageTitle&&(this.breadcrumbs[this.breadcrumbs.length-2]={label:this.customPreviousPageTitle,route:this.customPreviousPageRoute})}},{key:"toTitleCase",value:function(t){return t.toLowerCase().replace(/(?:^|[\s-/])\w/g,function(t){return t.toUpperCase()}).replace(/\-/g," ")}},{key:"handleBackLink",value:function(){this.currentPageTitle=this.breadcrumbs[this.breadcrumbs.length-1].label,this.customCurrentPageTitle&&"#WO"===this.customCurrentPageTitle.substring(0,3)&&this.searchFilterService.assignWOSearchFilterCache(),this.currentPageTitle,this.searchFilterService.assignPMSearchFilterCache(),this.currentPageTitle,this.searchFilterService.assignCLSearchFilterCache(),this.location.back()}}]),t}();f.\u0275fac=function(t){return new(t||f)(r.ec(i.c),r.ec(o.g),r.ec(c.r))},f.\u0275cmp=r.Yb({type:f,selectors:[["app-section-header"]],inputs:{customCurrentPageTitle:"customCurrentPageTitle",customPreviousPageTitle:"customPreviousPageTitle",customPreviousPageRoute:"customPreviousPageRoute",customBreadCrumbsRoute:"customBreadCrumbsRoute",breadcrumbsToPopQty:"breadcrumbsToPopQty"},decls:9,vars:2,consts:[[1,"back-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 5.193 8.797"],["data-name","Path 298","d","M5.193 8l-.8.8-4.4-4.4 4.4-4.4.8.8c.014.01-3.625 3.594-3.625 3.594S5.193 8.006 5.193 8z"],["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],[4,"ngIf"]],template:function(t,e){1&t&&(r.kc(0,"header"),r.kc(1,"a",0),r.rc("click",function(){return e.handleBackLink()}),r.uc(),r.kc(2,"svg",1),r.fc(3,"path",2),r.jc(),r.Pc(4," Back "),r.jc(),r.tc(),r.kc(5,"nav",3),r.kc(6,"ol",4),r.Oc(7,a,3,2,"li",5),r.Oc(8,d,3,4,"li",6),r.jc(),r.jc(),r.jc()),2&t&&(r.Tb(7),r.Ac("ngIf",1===e.breadcrumbs.length),r.Tb(1),r.Ac("ngForOf",e.breadcrumbs))},directives:[o.k,o.j,i.d],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:2em}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:#424244}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:.4em;margin-right:.5em}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#424244}header[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:0}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600;padding:.5em 1em .5em 0}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{padding:.5em 0}header[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding:0}@media screen and (max-width:399px){header[_ngcontent-%COMP%]{font-size:.65rem}header[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{padding:.5em 1.3em .5em 0}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.3rem}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.3rem}}@media screen and (max-width:320px){header[_ngcontent-%COMP%]{font-size:.75em}}"]})},QYs8:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ofXK"),c=n("tyNb"),r=n("3Pt+"),o=n("fXoL"),a=l(function t(){s(this,t)});a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.cc({type:a}),a.\u0275inj=o.bc({imports:[[i.b,c.e,r.t,r.h],i.b,r.h]})},pA2v:function(t,e,n){"use strict";function i(t,e){var n=t[e];return n?n.replace(/([A-Z])/g," $1").slice(1):(console.warn("".concat(e," is not a valid value for provided enumeration"),JSON.stringify(t).substr(0,100)),"")}function c(t){var e=[];for(var n in t)isNaN(Number(n))&&e.push(t[n]);return e}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return c})},vCnL:function(c,r,o){"use strict";o.r(r),o.d(r,"CheckListsModule",function(){return Q});var a=o("ofXK"),h=o("QYs8"),u=o("3Pt+"),d=o("O5Kl"),f=o("Hh11"),g=o("o0su"),m=o("Kj3r"),k=o("pLZG"),p=o("fXoL"),b=function(){function t(){s(this,t)}return l(t,[{key:"reset",value:function(){this.checkLists=void 0}}]),t}();b.\u0275fac=function(t){return new(t||b)},b.\u0275prov=p.ac({token:b,factory:b.\u0275fac,providedIn:"root"});var v=o("tyNb"),C=o("OeDX");function P(t,e){if(1&t){var n=p.lc();p.kc(0,"li",15),p.rc("click",function(){p.Ic(n);var t=e.$implicit;return p.vc().handleSelectedCheckListClick(t)}),p.kc(1,"div"),p.kc(2,"span"),p.Pc(3),p.jc(),p.jc(),p.kc(4,"div"),p.kc(5,"span"),p.Pc(6),p.jc(),p.jc(),p.kc(7,"div"),p.kc(8,"span"),p.Pc(9),p.jc(),p.jc(),p.kc(10,"div",16),p.kc(11,"div"),p.uc(),p.kc(12,"svg",17),p.fc(13,"path",18),p.jc(),p.jc(),p.jc(),p.jc()}if(2&t){var i=e.$implicit,c=p.vc();p.Vb("status-",i.status?c.CheckListStatus[i.status]:"Active",""),p.Tb(3),p.Qc(i.number),p.Tb(3),p.Qc(i.name),p.Tb(3),p.Qc(c.CheckListStatus[i.status])}}function O(t,e){1&t&&(p.kc(0,"div"),p.Pc(1," No checklists found\n"),p.jc())}function M(t,e){if(1&t){var n=p.lc();p.kc(0,"div",19),p.kc(1,"button",20),p.rc("click",function(){return p.Ic(n),p.vc().getCheckList()}),p.Pc(2,"Load more"),p.jc(),p.jc()}}function _(t,e){1&t&&(p.kc(0,"div"),p.fc(1,"div",21),p.jc())}var y=function(){function t(e,n,i,c,r,o){s(this,t),this.formBuilder=e,this.authenticationService=n,this.checkListsService=i,this.router=c,this.searchFilterService=r,this.checkListsWizard=o,this.CheckListStatus=f.a,this.canCreateCheckList=!1,this.shouldGetNextCheckList=!0,this.offset=0,this.take=10,this.isGettingUserRights=!1}return l(t,[{key:"ngOnInit",value:function(){var t=this;this.setPermissionBooleans(),this.searchForm=this.formBuilder.group({text:this.searchFilterService.searchCLTextValue?this.searchFilterService.searchCLTextValue:""}),this.checkListFilterCache=this.searchFilterService.searchCLFilterValue,this.searchFilterService.searchCLFilterValueCache=this.checkListFilterCache,this.searchForm.get("text").valueChanges.pipe(Object(m.a)(700),Object(k.a)(function(t){return t.length>=3||0===t.length})).subscribe(function(){t.initiateFreshSearchSettings(),t.getCheckList(),t.searchFilterService.searchCLTextValueCache=t.searchForm.controls.text.value}),this.initiateFreshSearchSettings(),this.getCheckList()}},{key:"ngOnDestroy",value:function(){this.searchFilterService.clearCLFilter()}},{key:"initiateFreshSearchSettings",value:function(){this.checkLists=[],this.offset=0,this.shouldGetNextCheckList=!0}},{key:"getCheckList",value:function(){var t=this;this.isSearching=!0,this.checkListsService.getCheckListsList({offset:this.offset,take:this.take,searchText:this.searchForm.value.text,includeObsolete:this.checkListFilterCache}).subscribe(function(e){var i;(i=t.checkLists).push.apply(i,n(e)),t.offset+=t.take,e.length<t.take&&(t.shouldGetNextCheckList=!1),t.isSearching=!1})}},{key:"createCheckList",value:function(){this.router.navigate(["check-list","create-check-list"])}},{key:"handleFilterClick",value:function(t){this.checkListFilterCache=t,this.searchFilterService.searchCLFilterValueCache=this.checkListFilterCache,this.initiateFreshSearchSettings(),this.getCheckList()}},{key:"setPermissionBooleans",value:function(){var t=this;this.isGettingUserRights=!0,this.authenticationService.currentUserHasPermission(e({},g.l.CheckList,[g.f.CanCreateCheckList])).subscribe(function(e){return t.canCreateCheckList=e}),this.authenticationService.currentUserHasPermission(e({},g.l.CheckList,[g.f.CanEditCheckList])).subscribe(function(e){t.canUserEditCheckList=e,t.isGettingUserRights=!1})}},{key:"handleSelectedCheckListClick",value:function(t){this.checkListsWizard.checkLists=t,this.checkListsWizard.checkLists&&(this.canUserEditCheckList?this.router.navigate(["check-list/edit-check-list"]):this.router.navigate(["check-list/view-check-list"]))}}]),t}();function w(t,e){1&t&&(p.kc(0,"div"),p.fc(1,"div",2),p.jc())}function L(t,e){1&t&&(p.kc(0,"div",19),p.Pc(1," You must specify a name "),p.jc())}function j(t,e){1&t&&(p.kc(0,"div",19),p.Pc(1," You must specify at least one task "),p.jc())}function x(t,e){if(1&t&&(p.kc(0,"div",20),p.fc(1,"div",6),p.kc(2,"div",7),p.Oc(3,j,2,0,"div",8),p.jc(),p.jc()),2&t){var n=p.vc(2);p.Tb(3),p.Ac("ngIf",n.submitAttempted&&n.hasNoCheckListTask)}}y.\u0275fac=function(t){return new(t||y)(p.ec(u.d),p.ec(g.d),p.ec(d.a),p.ec(v.c),p.ec(g.r),p.ec(b))},y.\u0275cmp=p.Yb({type:y,selectors:[["app-check-lists"]],decls:32,vars:8,consts:[[3,"customCurrentPageTitle"],[1,"search-filter-form",3,"formGroup"],[1,"input-with-search-wrapper","col-5"],["type","text","formControlName","text","placeholder","Search by checklist id or name",1,"form-control","form-control--search-prefix"],[1,"check-list-filter","col-3"],[1,"form-group"],["for","includeObsolete",1,"custom-control-label","label-align"],["type","checkbox","id","includeObsolete","name","option-check-list-filter",1,"custom-control-input",3,"ngModel","ngModelChange","change"],[1,"checkbox-label"],[1,"check-list-create-btn","col-4"],[1,"btn",3,"disabled","click"],[1,"check-list-ul"],[3,"class","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-center",4,"ngIf"],[3,"click"],[1,"row-toggle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8.797 5.194"],["d","M8,0l.8.8-4.4,4.4Q2.2,3,0,.8L.8,0C.81-.014,4.394,3.625,4.394,3.625S8.006,0,8,0Z"],[1,"text-center"],[1,"btn","btn-link",3,"click"],[1,"spinner"]],template:function(t,e){1&t&&(p.fc(0,"app-section-header",0),p.kc(1,"h1"),p.Pc(2,"Check Lists"),p.jc(),p.kc(3,"form",1),p.kc(4,"div",2),p.fc(5,"input",3),p.jc(),p.kc(6,"div",4),p.kc(7,"form"),p.kc(8,"div",5),p.kc(9,"label",6),p.kc(10,"input",7),p.rc("ngModelChange",function(t){return e.checkListFilterCache=t})("change",function(t){return e.handleFilterClick(t.target.checked)}),p.jc(),p.kc(11,"span",8),p.Pc(12,"Include obsolete check lists"),p.jc(),p.jc(),p.jc(),p.jc(),p.jc(),p.kc(13,"div",9),p.kc(14,"button",10),p.rc("click",function(){return e.createCheckList()}),p.kc(15,"span"),p.Pc(16,"Create Check List"),p.jc(),p.jc(),p.jc(),p.jc(),p.kc(17,"ul",11),p.kc(18,"li"),p.kc(19,"div"),p.kc(20,"span"),p.Pc(21,"id"),p.jc(),p.jc(),p.kc(22,"div"),p.kc(23,"span"),p.Pc(24,"name"),p.jc(),p.jc(),p.kc(25,"div"),p.kc(26,"span"),p.Pc(27,"status"),p.jc(),p.jc(),p.jc(),p.Oc(28,P,14,6,"li",12),p.jc(),p.Oc(29,O,2,0,"div",13),p.Oc(30,M,3,0,"div",14),p.Oc(31,_,2,0,"div",13)),2&t&&(p.Ac("customCurrentPageTitle","Check Lists"),p.Tb(3),p.Ac("formGroup",e.searchForm),p.Tb(7),p.Ac("ngModel",e.checkListFilterCache),p.Tb(4),p.Ac("disabled",!e.canCreateCheckList),p.Tb(14),p.Ac("ngForOf",e.checkLists),p.Tb(1),p.Ac("ngIf",0===e.checkLists.length&&!e.isSearching),p.Tb(1),p.Ac("ngIf",e.shouldGetNextCheckList&&!e.isSearching),p.Tb(1),p.Ac("ngIf",e.isSearching))},directives:[C.a,u.w,u.n,u.g,u.c,u.m,u.f,u.o,u.a,u.p,a.j,a.k],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}h1[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-top:-.8em;margin-bottom:1em}.search-filter-form[_ngcontent-%COMP%]{display:flex;padding-bottom:1em}.search-filter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:#424244;font-weight:200}.search-filter-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.search-filter-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{padding-left:.5em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]{margin:.7em 0 0 2em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding:.25em 0 0 15px;text-indent:-25px;text-transform:none;font-weight:200}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{vertical-align:middle}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:13px;height:13px;padding:0;margin:0;vertical-align:middle;position:relative;top:-1px;*overflow:hidden}.search-filter-form[_ngcontent-%COMP%]   .check-list-create-btn[_ngcontent-%COMP%]{text-align:right;padding-right:2em}@media screen and (max-width:800px){.search-filter-form[_ngcontent-%COMP%]   .check-list-create-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.65em 1.5em}}@media screen and (max-width:610px){.search-filter-form[_ngcontent-%COMP%]{display:block}.search-filter-form[_ngcontent-%COMP%]   .input-with-search-wrapper[_ngcontent-%COMP%]{width:100%}.search-filter-form[_ngcontent-%COMP%]   .input-with-search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:.9em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]{width:100%;font-size:1em;font-weight:400;margin-left:.65em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:.2em}.search-filter-form[_ngcontent-%COMP%]   .check-list-filter[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{margin-bottom:1em}.search-filter-form[_ngcontent-%COMP%]   .check-list-create-btn[_ngcontent-%COMP%]{padding:1em 0 0;width:100%}.search-filter-form[_ngcontent-%COMP%]   .check-list-create-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.check-list-ul[_ngcontent-%COMP%]{margin-top:.6em;padding:0;list-style:none}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:#fff;transition:all .2s ease-in-out;border-bottom:2px solid #fff;position:relative;cursor:pointer;padding:1em .2em}.check-list-ul[_ngcontent-%COMP%]   li.status-Obsolete[_ngcontent-%COMP%]{background-color:#f2f2f2}.check-list-ul[_ngcontent-%COMP%]   li.status-Obsolete[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05)}.check-list-ul[_ngcontent-%COMP%]   li.status-Obsolete[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.check-list-ul[_ngcontent-%COMP%]   li.status-Active[_ngcontent-%COMP%]{background-color:#efe6d9}.check-list-ul[_ngcontent-%COMP%]   li.status-Active[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#c9bea0}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;border-right:1px solid rgba(0,0,0,.22);display:flex;align-items:center;padding:.7em .8em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:14em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:35em;word-break:break-all}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:nth-child(2){display:none}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:6em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(n+3){border-right:none}@media screen and (max-width:800px){.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:28em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:7.5em}}@media screen and (max-width:610px){.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.7em .5em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:4.5em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:14em}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:5em;border-right:none}}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]{position:absolute;padding:1.6em 1em;top:0;right:0;transition:all .2s ease-in-out;background:rgba(0,0,0,.05);height:100%;display:flex;align-items:center}@media screen and (max-width:610px){.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]{padding:1.6em .7em}}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{text-transform:uppercase;font-weight:900;cursor:auto;padding:0}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]{border-right:none}@media screen and (max-width:610px){.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{display:block}.check-list-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]:nth-child(3){width:7em}}@media screen and (max-width:415px){.check-list-ul[_ngcontent-%COMP%]{font-size:.85em}}"]});var T=function(){return{standalone:!0}};function A(t,e){if(1&t){var n=p.lc();p.kc(0,"div",21),p.kc(1,"div",9),p.kc(2,"textarea",22),p.rc("ngModelChange",function(t){return e.$implicit.description=t})("keydown",function(t){return p.Ic(n),p.vc(2).handleTaskInputKeyDown(t)}),p.jc(),p.kc(3,"button",23),p.rc("click",function(){p.Ic(n);var t=e.$implicit;return p.vc(2).handleDeleteTask(t)}),p.uc(),p.kc(4,"svg",24),p.kc(5,"g",25),p.fc(6,"path",26),p.fc(7,"path",27),p.fc(8,"path",28),p.fc(9,"path",29),p.fc(10,"path",30),p.jc(),p.jc(),p.jc(),p.jc(),p.jc()}if(2&t){var i=e.$implicit;p.Tb(2),p.Ac("disabled",i.isDeleted)("ngModel",i.description)("ngModelOptions",p.Dc(4,T)),p.Tb(1),p.Ac("disabled",i.isDeleted)}}function S(t,e){if(1&t){var n=p.lc();p.kc(0,"article"),p.kc(1,"header"),p.kc(2,"h1"),p.Pc(3,"Create Check List"),p.jc(),p.jc(),p.kc(4,"form",3),p.kc(5,"div",4),p.kc(6,"div",5),p.kc(7,"div",6),p.fc(8,"label"),p.jc(),p.kc(9,"div",7),p.Oc(10,L,2,0,"div",8),p.jc(),p.jc(),p.kc(11,"div",9),p.kc(12,"div",6),p.kc(13,"label"),p.Pc(14,"Name"),p.jc(),p.jc(),p.kc(15,"div",7),p.kc(16,"input",10),p.rc("input",function(t){return p.Ic(n),p.vc().handleChecklistNameInput(t)}),p.jc(),p.jc(),p.jc(),p.Oc(17,x,4,1,"div",11),p.kc(18,"div",12),p.kc(19,"div",13),p.kc(20,"label"),p.Pc(21,"Tasks"),p.jc(),p.jc(),p.kc(22,"div",7),p.Oc(23,A,11,5,"div",14),p.jc(),p.jc(),p.kc(24,"div",15),p.kc(25,"button",16),p.rc("click",function(){return p.Ic(n),p.vc().handleAddRow()}),p.Pc(26,"Add Task"),p.jc(),p.jc(),p.jc(),p.kc(27,"footer"),p.kc(28,"div",17),p.kc(29,"button",18),p.rc("click",function(){return p.Ic(n),p.vc().createCheckList()}),p.Pc(30," Save all changes "),p.jc(),p.jc(),p.jc(),p.jc(),p.jc()}if(2&t){var i=p.vc();p.Tb(4),p.Ac("formGroup",i.formCreateCheckList),p.Tb(6),p.Ac("ngIf",i.submitAttempted&&i.formCreateCheckList.controls.name.errors),p.Tb(7),p.Ac("ngIf",i.submitAttempted&&i.hasNoCheckListTask),p.Tb(6),p.Ac("ngForOf",i.tasks),p.Tb(5),p.Wb("visible",i.formCreateCheckList.dirty)}}var I=function(){function c(t,e,n,i,r,o){s(this,c),this.formBuilder=t,this.checkListsService=e,this.toastService=n,this.authenticationService=i,this.checkListsWizard=r,this.router=o,this.isLoading=!1,this.submitAttempted=!1,this.tasks=[]}return l(c,[{key:"ngOnInit",value:function(){this.setPermissionBooleans(),this.createCheckListForm()}},{key:"createCheckListForm",value:function(){var t=this;t.formCreateCheckList=t.formBuilder.group({name:["",u.v.compose([u.v.required,u.v.maxLength(50)])]}),this.tasks=[{sequenceNumber:1,description:"",isDeleted:!1}]}},{key:"createCheckList",value:function(){var e=this;if(this.submitAttempted=!0,this.isLoading=!0,this.formCreateCheckList.markAsPristine(),this.hasNoCheckListTask=0===this.tasks.filter(function(t){return""!==t.description&&!t.isDeleted}).length,this.formCreateCheckList.valid&&!this.hasNoCheckListTask){if(this.formCreateCheckList.valid&&!this.hasNoCheckListTask){this.tasks=this.tasks.filter(function(t){return""!==t.description&&!t.isDeleted});var n,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var c=0,r=function(){};return{s:r,n:function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.tasks.entries());try{for(c.s();!(n=c.n()).done;){var r=t(n.value,2),o=r[0];r[1].sequenceNumber=o+1}}catch(l){c.e(l)}finally{c.f()}var s=this.formCreateCheckList.value.name,a=[];this.tasks.forEach(function(t){var e={sequenceNumber:t.sequenceNumber,description:t.description};a.push(e)}),this.checkListsService.createCheckList({name:s,task:a}).subscribe(function(t){e.checkListsWizard.checkLists=t,e.toastService.showToast(new g.u("Checklist ("+t.numberWithPrefix+") saved successfully")),e.canUserEditCheckList?e.router.navigate(["check-list/edit-check-list"]):e.router.navigate(["check-list/view-check-list"])})}this.isLoading=!1}else this.isLoading=!1}},{key:"handleDeleteTask",value:function(t){this.tasks.find(function(e){return t.description===e.description&&t.sequenceNumber===e.sequenceNumber}).isDeleted=!0,this.formCreateCheckList.markAsDirty()}},{key:"handleAddRow",value:function(){this.tasks=[].concat(n(this.tasks),[{sequenceNumber:this.tasks.length+1,description:""}]),this.formCreateCheckList.markAsDirty()}},{key:"handleTaskInputKeyDown",value:function(t){this.hasNoCheckListTask=!1,this.formCreateCheckList.markAsDirty()}},{key:"setPermissionBooleans",value:function(){var t=this;this.authenticationService.currentUserHasPermission(e({},g.l.CheckList,[g.f.CanEditCheckList])).subscribe(function(e){t.canUserEditCheckList=e})}},{key:"handleChecklistNameInput",value:function(t){var e=t.target.value,n=e.replace(/[^a-zA-Z0-9 _\-(),.]/g,"");n!==e&&(t.preventDefault(),t.target.value=n,this.formCreateCheckList.get("name").setValue(n))}}]),c}();I.\u0275fac=function(t){return new(t||I)(p.ec(u.d),p.ec(d.a),p.ec(g.v),p.ec(g.d),p.ec(b),p.ec(v.c))},I.\u0275cmp=p.Yb({type:I,selectors:[["app-create-check-list"]],decls:3,vars:3,consts:[[3,"customCurrentPageTitle"],[4,"ngIf"],[1,"spinner"],[3,"formGroup"],[1,"mt-4"],[1,"d-flex","align-items-center"],[1,"col-4","col-sm-2"],[1,"col-8","col-sm-10"],["class","alert alert-danger arrow-alert",4,"ngIf"],[1,"d-flex","align-items-center","mb-3"],["type","text","maxlength","50","formControlName","name",1,"form-control",3,"input"],["class","d-flex",4,"ngIf"],[1,"d-flex","mb-sm-4","mb-2"],[1,"col-4","col-sm-2","mt-2"],["class","row",4,"ngFor","ngForOf"],[1,"pb-4"],[1,"btn","btn-link","p-0","add-row",3,"click"],[1,"form-actions"],[1,"btn","btn-primary","btn-block","col-12",3,"click"],[1,"alert","alert-danger","arrow-alert"],[1,"d-flex"],[1,"row"],["type","text","maxlength","500",1,"form-control","task-description",3,"disabled","ngModel","ngModelOptions","ngModelChange","keydown"],[1,"del-icon-button",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon"],["id","wrench","transform","translate(0.001 0)"],["id","Path_1563","data-name","Path 1563","d","M12.333,3.933,1.267,3.8c-.133.133-.4.133-.533.267A.8.8,0,0,0,.6,4.6L1.8,16.2c0,.4.267.533.667.533h8.267A.61.61,0,0,0,11.4,16.2L12.867,4.6a.8.8,0,0,0-.133-.533,1.343,1.343,0,0,0-.4-.134Zm-2,11.6h-7.2L2.067,5.267h9.467Z","transform","translate(0.2 1.267)"],["id","Path_1564","data-name","Path 1564","d","M13.333,3.2H10.667A3.739,3.739,0,0,0,6.933,0a3.607,3.607,0,0,0-3.6,3.2H.667A.63.63,0,0,0,0,3.867a.63.63,0,0,0,.667.667H13.333A.63.63,0,0,0,14,3.867a.63.63,0,0,0-.667-.667Zm-6.4-1.867A2.442,2.442,0,0,1,9.333,3.2H4.667A2.407,2.407,0,0,1,6.933,1.333Z"],["id","Path_1565","data-name","Path 1565","d","M5.367,13.467a.63.63,0,0,0,.667-.667V6.667A.63.63,0,0,0,5.367,6a.63.63,0,0,0-.667.667v6.267C4.7,13.2,5.1,13.467,5.367,13.467Z","transform","translate(1.567 2)"],["id","Path_1566","data-name","Path 1566","d","M3.9,13.5a.714.714,0,0,0,.667-.667L4.033,6.567A.714.714,0,0,0,3.367,5.9a.845.845,0,0,0-.667.8l.533,6.267A.886.886,0,0,0,3.9,13.5Z","transform","translate(0.9 1.967)"],["id","Path_1567","data-name","Path 1567","d","M6.942,13.475a.63.63,0,0,0,.667-.667l.533-6.267c.133-.267-.133-.533-.533-.533-.4-.133-.667.133-.667.533l-.533,6.267c-.134.4.133.667.533.667Z","transform","translate(2.125 1.991)"]],template:function(t,e){1&t&&(p.fc(0,"app-section-header",0),p.Oc(1,w,2,0,"div",1),p.Oc(2,S,31,6,"article",1)),2&t&&(p.Ac("customCurrentPageTitle","Create Check List"),p.Tb(1),p.Ac("ngIf",e.isLoading),p.Tb(1),p.Ac("ngIf",!e.isLoading))},directives:[C.a,a.k,u.w,u.n,u.g,u.c,u.i,u.m,u.f,a.j,u.p],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}article[_ngcontent-%COMP%]{margin-bottom:6em}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #dedede;margin-bottom:2em}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}article[_ngcontent-%COMP%]   .del-icon-button[_ngcontent-%COMP%]{border:0;background-color:transparent}article[_ngcontent-%COMP%]   .del-icon[_ngcontent-%COMP%]{margin-left:.5em}article[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}.task-description[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}textarea.form-control[_ngcontent-%COMP%]{height:52px!important;line-height:32px;text-align:justify}"]});var F=o("pA2v");function N(t,e){1&t&&(p.kc(0,"div"),p.fc(1,"div",1),p.jc())}function D(t,e){1&t&&(p.kc(0,"div",20),p.kc(1,"div",21),p.kc(2,"div",22),p.Pc(3," You must specify name "),p.jc(),p.jc(),p.jc())}function V(t,e){1&t&&(p.kc(0,"div",20),p.kc(1,"div",21),p.kc(2,"div",22),p.Pc(3," You must specify at least one task "),p.jc(),p.jc(),p.jc())}function B(t,e){if(1&t&&(p.ic(0),p.Oc(1,V,4,0,"div",7),p.hc()),2&t){var n=e.first,i=p.vc(2);p.Tb(1),p.Ac("ngIf",(i.isTaskAdded()||i.hasNoCheckListTask)&&n)}}function R(t,e){if(1&t){var n=p.lc();p.kc(0,"div",11),p.kc(1,"label",23),p.Pc(2),p.jc(),p.kc(3,"div",6),p.kc(4,"div",24),p.kc(5,"textarea",25),p.rc("input",function(t){p.Ic(n);var i=e.$implicit;return p.vc(2).handleTaskDescriptionChanges(t,i)}),p.jc(),p.kc(6,"button",26),p.rc("click",function(){p.Ic(n);var t=e.index;return p.vc(2).handleDeleteItem(t)}),p.uc(),p.kc(7,"svg",27),p.kc(8,"g",28),p.fc(9,"path",29),p.fc(10,"path",30),p.fc(11,"path",31),p.fc(12,"path",32),p.fc(13,"path",33),p.jc(),p.jc(),p.jc(),p.jc(),p.jc(),p.jc()}if(2&t){var i=e.$implicit,c=e.first,r=p.vc(2);p.Tb(2),p.Qc(c?"Tasks":""),p.Tb(3),p.Ac("disabled",!r.isEditable||i.isDeleted)("value",i.description),p.Tb(1),p.Ac("disabled",!r.isEditable||i.isDeleted)}}function E(t,e){if(1&t){var n=p.lc();p.kc(0,"div",34),p.kc(1,"button",35),p.rc("click",function(){return p.Ic(n),p.vc(2).handleAddCheckList()}),p.Pc(2," Add Task "),p.jc(),p.jc()}}function z(t,e){if(1&t&&(p.kc(0,"option",36),p.Pc(1),p.jc()),2&t){var n=e.$implicit,i=e.index,c=p.vc(2);p.Ac("value",c.checkListStatusValues[i])("selected",c.checkListStatusValues[i]===c.checkList.status),p.Tb(1),p.Rc(" ",c.checklistStatus[n]," ")}}function U(t,e){if(1&t){var n=p.lc();p.kc(0,"div",37),p.kc(1,"button",38),p.rc("click",function(){return p.Ic(n),p.vc(2).updateCheckList()}),p.kc(2,"span"),p.Pc(3,"Save all changes"),p.jc(),p.jc(),p.jc()}if(2&t){var i=p.vc(2);p.Wb("visible",!i.isUpdatingCheckList&&i.showSaveButton&&!i.isTaskAdded())}}function q(t,e){if(1&t){var n=p.lc();p.kc(0,"article"),p.kc(1,"header"),p.kc(2,"h1"),p.Pc(3),p.jc(),p.jc(),p.kc(4,"form",2),p.kc(5,"div",3),p.kc(6,"div",4),p.fc(7,"div",5),p.kc(8,"div",6),p.Oc(9,D,4,0,"div",7),p.jc(),p.jc(),p.kc(10,"div",4),p.kc(11,"div",5),p.kc(12,"label"),p.Pc(13,"Name"),p.jc(),p.jc(),p.kc(14,"div",6),p.kc(15,"input",8),p.rc("input",function(t){return p.Ic(n),p.vc().handleCheckListNameInput(t)}),p.jc(),p.jc(),p.jc(),p.kc(16,"div",9),p.kc(17,"div",10),p.kc(18,"div",11),p.fc(19,"div",5),p.kc(20,"div",6),p.Oc(21,B,2,1,"ng-container",12),p.jc(),p.jc(),p.jc(),p.jc(),p.kc(22,"div",9),p.kc(23,"div",10),p.Oc(24,R,14,4,"div",13),p.jc(),p.jc(),p.Oc(25,E,3,0,"div",14),p.kc(26,"div",15),p.kc(27,"label",5),p.Pc(28,"Status"),p.jc(),p.kc(29,"div",16),p.kc(30,"select",17),p.Oc(31,z,2,3,"option",18),p.jc(),p.jc(),p.jc(),p.fc(32,"div"),p.jc(),p.jc(),p.kc(33,"footer"),p.Oc(34,U,4,2,"div",19),p.jc(),p.jc()}if(2&t){var i=p.vc();p.Tb(3),p.Rc("",i.isEditable?"Edit":"View"," Check List"),p.Tb(1),p.Ac("formGroup",i.formViewCheckList),p.Tb(5),p.Ac("ngIf",i.submitted&&i.formViewCheckList.controls.name.errors),p.Tb(12),p.Ac("ngForOf",i.checkList.task),p.Tb(3),p.Ac("ngForOf",i.checkList.task),p.Tb(1),p.Ac("ngIf",i.isEditable),p.Tb(6),p.Ac("ngForOf",i.checkListStatusValues),p.Tb(1),p.Lc("height",!i.isUpdatingPreventiveMaintenance&&i.showSaveButton?100:null,"px"),p.Tb(2),p.Ac("ngIf",i.formViewCheckList)}}var Z=function(){function t(e,n,i,c,r,o){s(this,t),this.formBuilder=e,this.checkListsService=n,this.router=i,this.checkListsWizard=c,this.authenticationService=r,this.toastService=o,this.isLoading=!0,this.isGettingUserRights=!1,this.isEditable=!1,this.checklistStatus=g.g,this.checkListStatusValues=Object(F.b)(this.checklistStatus),this.isUpdatingCheckList=!1,this.submitted=!1,this.showSaveButton=!1,this.checkListsWizard.checkLists?this.checkListNumber=this.checkListsWizard.checkLists.number:this.router.navigate(["check-list"])}return l(t,[{key:"ngOnInit",value:function(){this.viewCheckListForId(),this.setPermissionBooleans()}},{key:"createForm",value:function(){var t,e=this;t=this.checkList,e.formViewCheckList=e.formBuilder.group({name:new u.e({value:t.name,disabled:!e.isEditable},u.v.compose([u.v.required])),status:new u.e({value:t.status,disabled:!e.isEditable},u.v.compose([u.v.required]))}),this.isLoading=!1,this.formViewCheckList.valueChanges.subscribe(function(){setTimeout(function(){e.updateFormChanges()},1e3)})}},{key:"updateFormChanges",value:function(){this.checkList.name=this.formViewCheckList.get("name").value.toString()?this.formViewCheckList.get("name").value.toString():"",this.checkList.status=parseInt(this.formViewCheckList.get("status").value),this.showSaveButton=!0,this.formViewCheckList.markAsDirty()}},{key:"setPermissionBooleans",value:function(){var t=this;this.isGettingUserRights=!0,this.authenticationService.currentUserHasPermission(e({},g.l.CheckList,[g.f.CanEditCheckList])).subscribe(function(e){t.isEditable=e,t.isGettingUserRights=!1})}},{key:"viewCheckListForId",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isLoading=!0,this.checkListsService.viewCheckListForId(this.checkListNumber).subscribe(function(n){t.checkList=n,e&&t.createForm(),t.isLoading=!1})}},{key:"updateCheckList",value:function(){var t=this;if(this.submitted=!0,this.formViewCheckList.markAsPristine(),this.hasNoCheckListTask=0===this.checkList.task.filter(function(t){return""!==t.description&&!t.isDeleted}).length,this.formViewCheckList.valid||!this.hasNoCheckListTask){if(!this.isUpdatingCheckList){if(!this.formViewCheckList.valid)return void(this.submitted=!0);this.formViewCheckList.valid&&!this.hasNoCheckListTask&&(this.checkList.task=this.checkList.task.filter(function(t){return!t.isDeleted}),this.checkListsService.updateCheckListDetailForId(this.checkList).subscribe(function(e){t.viewCheckListForId(!1),t.toastService.showToast(new g.u("Checklist ( ".concat(e.numberWithPrefix," ) saved successfully")))},function(e){t.toastService.showErrorToast("Unable to save checklist")})),this.showSaveButton=!1}}else this.isLoading=!1}},{key:"isTaskAdded",value:function(){return this.checkList.task.every(function(t){return t.isDeleted})}},{key:"handleTaskDescriptionChanges",value:function(t,e){e.description=t.target.value,this.formViewCheckList.markAsDirty(),this.showSaveButton=!0,this.hasNoCheckListTask=!1}},{key:"handleAddCheckList",value:function(){this.addedTaskList={sequenceNumber:this.checkList.task.length+1,description:"",isDeleted:!1},this.checkList.task.push(this.addedTaskList),this.formViewCheckList.markAsDirty(),this.showSaveButton=!0}},{key:"handleDeleteItem",value:function(t){this.checkList&&this.checkList.task&&(this.checkList.task[t].isDeleted=!0,this.formViewCheckList.markAsDirty(),this.showSaveButton=!0)}},{key:"handleCheckListNameInput",value:function(t){var e=t.target.value,n=e.replace(/[^a-zA-Z0-9 _\-(),.]/g,"");n!==e&&(t.preventDefault(),t.target.value=n,this.formViewCheckList.get("name").setValue(n))}}]),t}();Z.\u0275fac=function(t){return new(t||Z)(p.ec(u.d),p.ec(g.h),p.ec(v.c),p.ec(b),p.ec(g.d),p.ec(g.v))},Z.\u0275cmp=p.Yb({type:Z,selectors:[["app-view-check-lists"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"spinner"],[3,"formGroup"],[1,"core-info","mt-4"],[1,"row","align-items-center","mb-sm-4","mb-md-2","mb-2"],[1,"col-2"],[1,"col-10"],["class","form-group",4,"ngIf"],["type","text","formControlName","name","maxlength","50",1,"form-control",3,"input"],[1,"row"],[1,"col-12","mb-2","mb-sm-2"],[1,"row","d-flex","align-items-center"],[4,"ngFor","ngForOf"],["class","row  d-flex align-items-center",4,"ngFor","ngForOf"],["class","mb-2 mb-sm-3",4,"ngIf"],[1,"row","align-items-center","d-flex","mb-2","mb-sm-3"],[1,"col-10","col-md-3"],["formControlName","status",1,"custom-select","form-control"],["class","form-control",3,"value","selected",4,"ngFor","ngForOf"],["class","form-actions",3,"visible",4,"ngIf"],[1,"form-group"],[1,"asset-alert-msgs"],[1,"alert","alert-danger","arrow-alert"],[1,"col-2","mb-3"],[1,"input-group","mb-3"],["type","text","pattern","^[a-zA-Z0-9 ]*","maxlength","500",1,"form-control","task-description",3,"disabled","value","input"],["type","button",1,"delete-btn",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon"],["id","wrench","transform","translate(0.001 0)"],["id","Path_1563","data-name","Path 1563","d","M12.333,3.933,1.267,3.8c-.133.133-.4.133-.533.267A.8.8,0,0,0,.6,4.6L1.8,16.2c0,.4.267.533.667.533h8.267A.61.61,0,0,0,11.4,16.2L12.867,4.6a.8.8,0,0,0-.133-.533,1.343,1.343,0,0,0-.4-.134Zm-2,11.6h-7.2L2.067,5.267h9.467Z","transform","translate(0.2 1.267)"],["id","Path_1564","data-name","Path 1564","d","M13.333,3.2H10.667A3.739,3.739,0,0,0,6.933,0a3.607,3.607,0,0,0-3.6,3.2H.667A.63.63,0,0,0,0,3.867a.63.63,0,0,0,.667.667H13.333A.63.63,0,0,0,14,3.867a.63.63,0,0,0-.667-.667Zm-6.4-1.867A2.442,2.442,0,0,1,9.333,3.2H4.667A2.407,2.407,0,0,1,6.933,1.333Z"],["id","Path_1565","data-name","Path 1565","d","M5.367,13.467a.63.63,0,0,0,.667-.667V6.667A.63.63,0,0,0,5.367,6a.63.63,0,0,0-.667.667v6.267C4.7,13.2,5.1,13.467,5.367,13.467Z","transform","translate(1.567 2)"],["id","Path_1566","data-name","Path 1566","d","M3.9,13.5a.714.714,0,0,0,.667-.667L4.033,6.567A.714.714,0,0,0,3.367,5.9a.845.845,0,0,0-.667.8l.533,6.267A.886.886,0,0,0,3.9,13.5Z","transform","translate(0.9 1.967)"],["id","Path_1567","data-name","Path 1567","d","M6.942,13.475a.63.63,0,0,0,.667-.667l.533-6.267c.133-.267-.133-.533-.533-.533-.4-.133-.667.133-.667.533l-.533,6.267c-.134.4.133.667.533.667Z","transform","translate(2.125 1.991)"],[1,"mb-2","mb-sm-3"],[1,"btn","btn-link","p-0","add-list",3,"click"],[1,"form-control",3,"value","selected"],[1,"form-actions"],[1,"btn","btn-primary","btn-block","col-12",3,"click"]],template:function(t,e){1&t&&(p.fc(0,"app-section-header"),p.Oc(1,N,2,0,"div",0),p.Oc(2,q,35,10,"article",0)),2&t&&(p.Tb(1),p.Ac("ngIf",e.isLoading||e.isGettingUserRights),p.Tb(1),p.Ac("ngIf",!e.isLoading&&!e.isGettingUserRights))},directives:[C.a,a.k,u.w,u.n,u.g,u.c,u.m,u.f,u.i,a.j,u.u,u.q,u.x],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #dedede;margin-bottom:1em;padding-bottom:.5em}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}article[_ngcontent-%COMP%]   .core-info[_ngcontent-%COMP%]   .del-icon[_ngcontent-%COMP%]{margin-left:.5em}.input-with-frequency-wrapper[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.input-with-frequency-wrapper[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:.75rem .95rem;background:none;border:none}.readonly[_ngcontent-%COMP%]{pointer-events:none;background-color:hsla(0,0%,92%,.295);color:#9c9a9a}@media only screen and (min-width:1200px){[tooltip-danger][_ngcontent-%COMP%]:before{left:1400%;width:28em;top:4em;right:222%;z-index:9999}[tooltip-danger][_ngcontent-%COMP%]:after{top:.3em;left:146%;transform:rotate(91deg)}}@media only screen and (max-width:1024px){[tooltip-danger][_ngcontent-%COMP%]{position:absolute;margin-left:6px;z-index:9}[tooltip-danger][_ngcontent-%COMP%]:before{width:19em}}.delete-btn[_ngcontent-%COMP%]{border:none;background:transparent;padding-bottom:.25em;margin-left:.25em}.delete-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1em;height:auto;transform:scale(1)}.delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#424244}.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.125)}.delete-btn[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:default}.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:25%}@media only screen and (max-width:767px){.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width:768px) and (max-width:1024px){.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:48%}}.form-group[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .alert-msgs[_ngcontent-%COMP%]{position:absolute;bottom:2.5em}.form-group[_ngcontent-%COMP%]   .asset-alert-msgs[_ngcontent-%COMP%]{bottom:0;width:100%;margin-bottom:-.35em;z-index:9}@media only screen and (max-width:575px){.form-group[_ngcontent-%COMP%]   .asset-alert-msgs[_ngcontent-%COMP%]{position:relative}}  .find-as-you-type .form-control:-moz-read-only{box-shadow:none!important;background-color:hsla(0,0%,92%,.58)!important;z-index:5;opacity:.5}  .find-as-you-type .form-control:read-only{box-shadow:none!important;background-color:hsla(0,0%,92%,.58)!important;z-index:5;opacity:.5}.input-group[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-radius:.375rem}.task-description[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}textarea.form-control[_ngcontent-%COMP%]{height:52px!important;line-height:32px;text-align:justify}"]});var G=[{path:"",component:y},{path:"create-check-list",component:I},{path:"view-check-list",component:Z},{path:"edit-check-list",component:Z}],W=l(function t(){s(this,t)});W.\u0275fac=function(t){return new(t||W)},W.\u0275mod=p.cc({type:W}),W.\u0275inj=p.bc({imports:[[v.e.forChild(G)],v.e]});var Q=l(function t(){s(this,t)});Q.\u0275fac=function(t){return new(t||Q)},Q.\u0275mod=p.cc({type:Q}),Q.\u0275inj=p.bc({imports:[[a.b,u.t,h.a,W]]})}}])}();