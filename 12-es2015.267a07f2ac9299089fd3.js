(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{UpF3:function(e,t,n){"use strict";n.r(t),n.d(t,"PreventiveMaintenanceModule",function(){return K});var i=n("ofXK"),c=n("3Pt+"),a=n("QYs8"),r=n("tyNb"),s=n("/WFp"),o=n("o0su"),d=n("Y4NF"),l=n("Kj3r"),h=n("pLZG"),m=n("fXoL");class g{constructor(){}reset(){this.preventiveMaintenance=void 0}}g.\u0275fac=function(e){return new(e||g)},g.\u0275prov=m.ac({token:g,factory:g.\u0275fac,providedIn:"root"});var u=n("OeDX");function v(e,t){if(1&e){const e=m.lc();m.kc(0,"li",14),m.rc("click",function(){m.Ic(e);const n=t.$implicit;return m.vc().handleSelectedPreventiveMaintenanceClick(n)}),m.kc(1,"div"),m.kc(2,"span"),m.Pc(3),m.jc(),m.jc(),m.kc(4,"div"),m.kc(5,"span"),m.Pc(6),m.jc(),m.jc(),m.kc(7,"div"),m.kc(8,"span"),m.Pc(9),m.jc(),m.jc(),m.kc(10,"div"),m.kc(11,"span"),m.Pc(12),m.jc(),m.jc(),m.kc(13,"div"),m.kc(14,"span"),m.Pc(15),m.jc(),m.jc(),m.kc(16,"div",15),m.kc(17,"div"),m.uc(),m.kc(18,"svg",16),m.fc(19,"path",17),m.jc(),m.jc(),m.jc(),m.jc()}if(2&e){const e=t.$implicit,n=m.vc();m.Vb("status-",e.status?n.PreventiveMaintenanceStatus[e.status]:"Active",""),m.Tb(3),m.Qc(e.number),m.Tb(3),m.Qc(e.title),m.Tb(3),m.Qc(e.assetName),m.Tb(3),m.Qc(e.nextDue?n.standardFormattedDate(e.nextDue,!0):""),m.Tb(3),m.Qc(n.PreventiveMaintenanceStatus[e.status])}}function f(e,t){1&e&&(m.kc(0,"div"),m.Pc(1," No preventive maintenance schedules found\n"),m.jc())}function p(e,t){if(1&e){const e=m.lc();m.kc(0,"div",18),m.kc(1,"button",19),m.rc("click",function(){m.Ic(e);return m.vc().getPreventiveMaintenanceList()}),m.Pc(2,"Load more"),m.jc(),m.jc()}}function P(e,t){1&e&&(m.kc(0,"div"),m.fc(1,"div",20),m.jc())}class M{constructor(e,t,n,i,c,a){this.formBuilder=e,this.authenticationService=t,this.preventiveMaintenanceService=n,this.searchFilterService=i,this.router=c,this.preventiveMaintenanceWizard=a,this.offset=0,this.take=10,this.shouldGetNextPreventiveMaintenance=!0,this.preventiveMaintenanceList=[],this.PreventiveMaintenanceStatus=s.a,this.standardFormattedDate=d.b,this.isGettingUserRights=!1,this.canUserEditSchedule=!1}ngOnInit(){this.setPermissionBooleans(),this.searchForm=this.formBuilder.group({text:this.searchFilterService.searchPMTextValue?this.searchFilterService.searchPMTextValue:""}),this.scheduleFilterCache=this.searchFilterService.searchPMFilterValue,this.searchFilterService.searchPMFilterValueCache=this.scheduleFilterCache,this.searchForm.get("text").valueChanges.pipe(Object(l.a)(700),Object(h.a)(e=>e.length>=3||0===e.length)).subscribe(()=>{this.initiateFreshSearchSettings(),this.getPreventiveMaintenanceList(),this.searchFilterService.searchPMTextValueCache=this.searchForm.controls.text.value}),this.initiateFreshSearchSettings(),this.getPreventiveMaintenanceList()}ngOnDestroy(){this.searchFilterService.searchPMFilterValue=!1,this.searchFilterService.searchPMTextValue=void 0}setPermissionBooleans(){this.isGettingUserRights=!0,this.authenticationService.currentUserHasPermission({[o.l.PreventiveMaintenance]:[o.n.CanCreatePreventiveMaintenance]}).subscribe(e=>this.canCreateSchedule=e),this.authenticationService.currentUserHasPermission({[o.l.PreventiveMaintenance]:[o.n.CanEditPreventiveMaintenance]}).subscribe(e=>{this.canUserEditSchedule=e,this.isGettingUserRights=!1})}initiateFreshSearchSettings(){this.preventiveMaintenanceList=[],this.offset=0,this.shouldGetNextPreventiveMaintenance=!0}getPreventiveMaintenanceList(){this.isSearching=!0,this.preventiveMaintenanceService.getPreventiveMaintenanceList({offset:this.offset,take:this.take,searchText:this.searchForm.value.text,includeExpired:this.scheduleFilterCache}).subscribe(e=>{this.preventiveMaintenanceList.push(...e),this.offset+=this.take,e.length<this.take&&(this.shouldGetNextPreventiveMaintenance=!1),this.isSearching=!1})}handleSelectedPreventiveMaintenanceClick(e){this.preventiveMaintenanceWizard.preventiveMaintenance=e,this.preventiveMaintenanceWizard.preventiveMaintenance&&(this.canUserEditSchedule?this.router.navigate(["preventive-maintenance/edit-schedule"]):this.router.navigate(["preventive-maintenance/view-schedule"]))}handleFilterClick(e){this.scheduleFilterCache=e,this.searchFilterService.searchPMFilterValueCache=this.scheduleFilterCache,this.initiateFreshSearchSettings(),this.getPreventiveMaintenanceList()}createSchedule(){this.router.navigate(["preventive-maintenance","create-schedule"])}}M.\u0275fac=function(e){return new(e||M)(m.ec(c.d),m.ec(o.d),m.ec(o.o),m.ec(o.r),m.ec(r.c),m.ec(g))},M.\u0275cmp=m.Yb({type:M,selectors:[["app-preventive-maintenance"]],decls:38,vars:7,consts:[[1,"search-filter-form",3,"formGroup"],[1,"input-with-search-wrapper","col-6"],["type","text","formControlName","text","placeholder","Search by schedule id, title, asset id or name",1,"form-control","form-control--search-prefix"],[1,"schedule-filter","col-2"],[1,"form-group"],["for","includeExpired",1,"custom-control-label","label-align"],["type","checkbox","id","includeExpired","name","option-schedule-filter",1,"custom-control-input",3,"ngModel","ngModelChange","change"],[1,"checkbox-label"],[1,"schedule-create-btn","col-4"],[1,"btn",3,"disabled","click"],[1,"schedule-list"],[3,"class","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-center",4,"ngIf"],[3,"click"],[1,"row-toggle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8.797 5.194"],["d","M8,0l.8.8-4.4,4.4Q2.2,3,0,.8L.8,0C.81-.014,4.394,3.625,4.394,3.625S8.006,0,8,0Z"],[1,"text-center"],[1,"btn","btn-link",3,"click"],[1,"spinner"]],template:function(e,t){1&e&&(m.fc(0,"app-section-header"),m.kc(1,"h1"),m.Pc(2,"Preventive Maintenance"),m.jc(),m.kc(3,"form",0),m.kc(4,"div",1),m.fc(5,"input",2),m.jc(),m.kc(6,"div",3),m.kc(7,"form"),m.kc(8,"div",4),m.kc(9,"label",5),m.kc(10,"input",6),m.rc("ngModelChange",function(e){return t.scheduleFilterCache=e})("change",function(e){return t.handleFilterClick(e.target.checked)}),m.jc(),m.kc(11,"span",7),m.Pc(12,"Include expired schedules"),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(13,"div",8),m.kc(14,"button",9),m.rc("click",function(){return t.createSchedule()}),m.kc(15,"span"),m.Pc(16,"Create Schedule"),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(17,"ul",10),m.kc(18,"li"),m.kc(19,"div"),m.kc(20,"span"),m.Pc(21,"id"),m.jc(),m.jc(),m.kc(22,"div"),m.kc(23,"span"),m.Pc(24,"title"),m.jc(),m.jc(),m.kc(25,"div"),m.kc(26,"span"),m.Pc(27,"asset name"),m.jc(),m.jc(),m.kc(28,"div"),m.kc(29,"span"),m.Pc(30,"next due"),m.jc(),m.jc(),m.kc(31,"div"),m.kc(32,"span"),m.Pc(33,"status"),m.jc(),m.jc(),m.jc(),m.Oc(34,v,20,8,"li",11),m.jc(),m.Oc(35,f,2,0,"div",12),m.Oc(36,p,3,0,"div",13),m.Oc(37,P,2,0,"div",12)),2&e&&(m.Tb(3),m.Ac("formGroup",t.searchForm),m.Tb(7),m.Ac("ngModel",t.scheduleFilterCache),m.Tb(4),m.Ac("disabled",!t.canCreateSchedule),m.Tb(20),m.Ac("ngForOf",t.preventiveMaintenanceList),m.Tb(1),m.Ac("ngIf",0===t.preventiveMaintenanceList.length&&!t.isSearching),m.Tb(1),m.Ac("ngIf",t.shouldGetNextPreventiveMaintenance&&!t.isSearching),m.Tb(1),m.Ac("ngIf",t.isSearching))},directives:[u.a,c.w,c.n,c.g,c.c,c.m,c.f,c.o,c.a,c.p,i.j,i.k],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}h1[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-top:-.8em;margin-bottom:1em}.search-filter-form[_ngcontent-%COMP%]{display:flex;padding-bottom:1em}.search-filter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:#424244;font-weight:200}.search-filter-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:default}.search-filter-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{padding-left:.5em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]{margin:.7em 0 0 2em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding:.25em 0 0 15px;text-indent:-25px;text-transform:none;font-weight:200;width:200%}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{vertical-align:middle}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:13px;height:13px;padding:0;margin:0;vertical-align:middle;position:relative;top:-1px;*overflow:hidden}.search-filter-form[_ngcontent-%COMP%]   .schedule-create-btn[_ngcontent-%COMP%]{text-align:right;padding-right:2em}@media screen and (max-width:800px){.search-filter-form[_ngcontent-%COMP%]   .schedule-create-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.65em 1.5em}}@media screen and (max-width:610px){.search-filter-form[_ngcontent-%COMP%]{display:block}.search-filter-form[_ngcontent-%COMP%]   .input-with-search-wrapper[_ngcontent-%COMP%]{width:100%}.search-filter-form[_ngcontent-%COMP%]   .input-with-search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:.9em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]{width:100%;font-size:1em;font-weight:400;margin-left:.65em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:.2em}.search-filter-form[_ngcontent-%COMP%]   .schedule-filter[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{margin-bottom:1em}.search-filter-form[_ngcontent-%COMP%]   .schedule-create-btn[_ngcontent-%COMP%]{padding:1em 0 0;width:100%}.search-filter-form[_ngcontent-%COMP%]   .schedule-create-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.schedule-list[_ngcontent-%COMP%]{margin-top:.6em;padding:0;list-style:none}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:#fff;transition:all .2s ease-in-out;margin-bottom:.15em;position:relative;cursor:pointer;padding:1em .2em}.schedule-list[_ngcontent-%COMP%]   li.status-Expired[_ngcontent-%COMP%]{background-color:#f2f2f2}.schedule-list[_ngcontent-%COMP%]   li.status-Expired[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05)}.schedule-list[_ngcontent-%COMP%]   li.status-Expired[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.schedule-list[_ngcontent-%COMP%]   li.status-Active[_ngcontent-%COMP%]{background-color:#efe6d9}.schedule-list[_ngcontent-%COMP%]   li.status-Active[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#c9bea0}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;border-right:1px solid rgba(0,0,0,.22);display:flex;align-items:center;padding:.7em .8em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:6em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:20em;word-break:break-all}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   span[_ngcontent-%COMP%]:nth-child(2){display:none}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:20em;word-break:break-all}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){width:9em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){width:6em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(n+5){border-right:none}@media screen and (max-width:800px){.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:16em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){width:7.75em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){width:7.65em}}@media screen and (max-width:610px){.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.7em .5em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:4.5em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){display:none}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:15em}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){width:7.25em;border-right:none}}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]{position:absolute;padding:1.6em 1em;top:0;right:0;transition:all .2s ease-in-out;background:rgba(0,0,0,.05);height:100%;display:flex;align-items:center}@media screen and (max-width:610px){.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]{padding:1.6em .7em}}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .row-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{text-transform:uppercase;font-weight:900;cursor:auto;padding:0}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]{border-right:none}@media screen and (max-width:610px){.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{display:block}.schedule-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%]:nth-child(4){width:7em}}@media screen and (max-width:415px){.schedule-list[_ngcontent-%COMP%]{font-size:.85em}}"]});var C=n("pA2v"),b=n("iadO"),k=n("Xi4i"),O=n("oeRM"),_=n("eQ4o");function w(e,t){1&e&&(m.kc(0,"div"),m.fc(1,"div",1),m.jc())}function x(e,t){1&e&&(m.ic(0),m.kc(1,"div",17),m.kc(2,"div",46),m.kc(3,"div",47),m.Pc(4," You must specify title "),m.jc(),m.jc(),m.jc(),m.hc())}function j(e,t){1&e&&(m.kc(0,"div",12),m.kc(1,"div",48),m.kc(2,"div",49),m.fc(3,"label",5),m.kc(4,"div",50),m.kc(5,"div",17),m.kc(6,"div",46),m.kc(7,"div",47),m.Pc(8," You must specify an asset "),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(9,"div",51),m.kc(10,"div",49),m.kc(11,"label",23),m.Pc(12,"Asset"),m.jc(),m.kc(13,"div",16),m.fc(14,"input",52),m.jc(),m.jc(),m.jc(),m.kc(15,"div",53),m.kc(16,"div",49),m.kc(17,"label",23),m.Pc(18,"Location"),m.jc(),m.kc(19,"div",54),m.fc(20,"input",55),m.uc(),m.kc(21,"svg",56),m.kc(22,"g",57),m.fc(23,"path",58),m.fc(24,"path",59),m.fc(25,"path",60),m.fc(26,"path",61),m.fc(27,"path",62),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc())}function y(e,t){if(1&e){const e=m.lc();m.kc(0,"div"),m.kc(1,"div",12),m.kc(2,"div",53),m.kc(3,"div",49),m.kc(4,"label",23),m.Pc(5,"Asset"),m.jc(),m.kc(6,"div",16),m.fc(7,"input",52),m.jc(),m.jc(),m.jc(),m.kc(8,"div",53),m.kc(9,"div",49),m.kc(10,"label",23),m.Pc(11,"Location"),m.jc(),m.kc(12,"div",54),m.fc(13,"input",63),m.kc(14,"button",64),m.rc("click",function(){m.Ic(e);const t=m.vc().index;return m.vc(2).handleDeleteItem(t)}),m.uc(),m.kc(15,"svg",65),m.kc(16,"g",57),m.fc(17,"path",58),m.fc(18,"path",59),m.fc(19,"path",60),m.fc(20,"path",61),m.fc(21,"path",62),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc()}if(2&e){const e=m.vc().$implicit,t=m.vc(2);m.Tb(7),m.Ac("value",e.assetId+" - "+e.name),m.Tb(6),m.Ac("value",e.location),m.Tb(1),m.Ac("disabled",!t.isEditable)}}function A(e,t){if(1&e&&(m.kc(0,"div"),m.Oc(1,y,22,3,"div",0),m.jc()),2&e){const e=t.$implicit;m.Tb(1),m.Ac("ngIf",!e.isDelete)}}function S(e,t){if(1&e){const e=m.lc();m.kc(0,"div",66),m.kc(1,"button",67),m.rc("click",function(){m.Ic(e);return m.vc(2).handlePickAssets()}),m.Pc(2," Add Asset "),m.jc(),m.jc()}if(2&e){const e=m.vc(2);m.Tb(1),m.Ac("disabled",!e.isEditable)}}function D(e,t){if(1&e&&(m.kc(0,"option",68),m.Pc(1),m.jc()),2&e){const e=t.$implicit,n=t.index,i=m.vc(2);m.Ac("value",i.preventiveMaintenanceStatusValues[n])("selected",i.preventiveMaintenanceStatusValues[n]===i.extendedPreventiveMaintenance.status),m.Tb(1),m.Rc(" ",i.preventiveMaintenanceStatus[e]," ")}}function T(e,t){1&e&&(m.kc(0,"div",4),m.fc(1,"div",5),m.kc(2,"div",69),m.kc(3,"div",17),m.kc(4,"div",46),m.kc(5,"div",47),m.Pc(6," You must specify frequency "),m.jc(),m.jc(),m.jc(),m.jc(),m.jc())}function I(e,t){if(1&e){const e=m.lc();m.kc(0,"app-modal",70),m.rc("modalShouldClose",function(){m.Ic(e);return m.vc(2).handleDetailsModalClose()})("contextmenu",function(t){m.Ic(e);return m.vc(2).disableRightClick(t)}),m.kc(1,"app-pick-assets",71),m.rc("addedAssets",function(t){m.Ic(e);return m.vc(2).handleAddedPreventiveMaintenanceAssets(t)}),m.jc(),m.jc()}if(2&e){const e=m.vc(2);m.Tb(1),m.Ac("existingAssets",e.extendedPreventiveMaintenance.maintenanceAssets)}}function F(e,t){if(1&e){const e=m.lc();m.kc(0,"div",72),m.kc(1,"button",73),m.rc("click",function(){m.Ic(e);return m.vc(2).updatePreventiveMaintenance()}),m.kc(2,"span"),m.Pc(3,"Save all changes"),m.jc(),m.jc(),m.jc()}if(2&e){const e=m.vc(2);m.Wb("visible",!e.isUpdatingPreventiveMaintenance&&e.showSaveButton)}}function E(e,t){if(1&e){const e=m.lc();m.kc(0,"article"),m.kc(1,"header"),m.kc(2,"h1"),m.Pc(3),m.jc(),m.jc(),m.kc(4,"form",2),m.kc(5,"div",3),m.kc(6,"div",4),m.fc(7,"div",5),m.kc(8,"div",6),m.Oc(9,x,5,0,"ng-container",0),m.jc(),m.jc(),m.kc(10,"div",7),m.kc(11,"div",5),m.kc(12,"label"),m.Pc(13,"Title"),m.jc(),m.jc(),m.kc(14,"div",6),m.fc(15,"input",8),m.jc(),m.jc(),m.Oc(16,j,28,0,"div",9),m.Oc(17,A,2,1,"div",10),m.Oc(18,S,3,1,"div",11),m.kc(19,"div",12),m.kc(20,"div",13),m.kc(21,"div",14),m.kc(22,"label",15),m.Pc(23,"Schedule start"),m.jc(),m.kc(24,"div",16),m.kc(25,"div",17),m.kc(26,"div",18),m.kc(27,"input",19),m.rc("dateChange",function(t){m.Ic(e);return m.vc().onDateChange(t)}),m.jc(),m.fc(28,"mat-datepicker-toggle",20),m.fc(29,"mat-datepicker",21,22),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(31,"div",14),m.kc(32,"label",23),m.Pc(33,"Assigned To"),m.jc(),m.kc(34,"div",16),m.fc(35,"input",24),m.kc(36,"app-list-users",25),m.rc("selectedUserId",function(t){m.Ic(e);return m.vc().selectedUserId(t)}),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(37,"div",13),m.kc(38,"div",14),m.kc(39,"label",26),m.Pc(40,"Schedule end "),m.kc(41,"span",27),m.uc(),m.kc(42,"svg",28),m.fc(43,"path",29),m.kc(44,"g"),m.fc(45,"path",30),m.jc(),m.jc(),m.jc(),m.jc(),m.tc(),m.kc(46,"div",16),m.kc(47,"div",17),m.kc(48,"div",18),m.fc(49,"input",31),m.fc(50,"mat-datepicker-toggle",20),m.fc(51,"mat-datepicker",21,32),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(53,"div",14),m.kc(54,"label",23),m.Pc(55,"Status"),m.jc(),m.kc(56,"div",16),m.kc(57,"select",33),m.Oc(58,D,2,3,"option",34),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.Oc(59,T,7,0,"div",35),m.kc(60,"div",36),m.kc(61,"div",37),m.kc(62,"label"),m.Pc(63,"Frequency"),m.jc(),m.jc(),m.kc(64,"div",38),m.kc(65,"div",39),m.fc(66,"input",40),m.kc(67,"div",41),m.kc(68,"span",42),m.Pc(69," Days"),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(70,"div",36),m.kc(71,"div",37),m.kc(72,"label"),m.Pc(73,"Instructions"),m.jc(),m.jc(),m.kc(74,"div",38),m.fc(75,"textarea",43),m.jc(),m.jc(),m.fc(76,"div"),m.jc(),m.jc(),m.Oc(77,I,2,1,"app-modal",44),m.kc(78,"footer"),m.Oc(79,F,4,2,"div",45),m.jc(),m.jc()}if(2&e){const e=m.Gc(30),t=m.Gc(52),n=m.vc();m.Tb(3),m.Sc(" ",n.isEditable?"Edit":"View"," Schedule (",n.preventiveMaintenanceNumber,") "),m.Tb(1),m.Ac("formGroup",n.form),m.Tb(5),m.Ac("ngIf",n.submitted&&n.form.controls.title.errors),m.Tb(7),m.Ac("ngIf",!n.extendedPreventiveMaintenance.maintenanceAssets||0===n.extendedPreventiveMaintenance.maintenanceAssets.length||!n.isAssetAvailable),m.Tb(1),m.Ac("ngForOf",n.extendedPreventiveMaintenance.maintenanceAssets),m.Tb(1),m.Ac("ngIf",n.isEditable),m.Tb(9),m.Ac("matDatepicker",e),m.Tb(1),m.Ac("for",e),m.Tb(1),m.Ac("disabled",!n.isEditable),m.Tb(6),m.Ac("readOnly",!n.isEditable),m.Tb(1),m.Ac("isEditable",n.isEditable)("userName",n.extendedPreventiveMaintenance.assignedTo),m.Tb(13),m.Ac("matDatepicker",t)("min",n.minEndDate),m.Tb(1),m.Ac("for",t),m.Tb(1),m.Ac("disabled",!n.isEditable),m.Tb(7),m.Ac("ngForOf",n.preventiveMaintenanceStatusValues),m.Tb(1),m.Ac("ngIf",n.submitted&&n.form.controls.frequency.errors),m.Tb(7),m.Ac("readOnly",!n.isEditable),m.Tb(9),m.Ac("readOnly",!n.isEditable),m.Tb(1),m.Lc("height",!n.isUpdatingPreventiveMaintenance&&n.showSaveButton?100:null,"px"),m.Tb(1),m.Ac("ngIf",n.addAssetsModalVisible),m.Tb(2),m.Ac("ngIf",n.form)}}class q{constructor(e,t,n,i,c,a){this.formBuilder=e,this.preventiveMaintenanceService=t,this.router=n,this.preventiveMaintenanceWizard=i,this.authenticationService=c,this.toastService=a,this.isLoading=!0,this.isGettingUserRights=!1,this.isEditable=!1,this.addAssetsModalVisible=!1,this.preventiveMaintenanceStatus=o.p,this.preventiveMaintenanceStatusValues=Object(C.b)(this.preventiveMaintenanceStatus),this.showSaveButton=!1,this.isUpdatingPreventiveMaintenance=!1,this.submitted=!1,this.minEndDate=new Date,this.isAssetAvailable=!0,this.preventiveMaintenanceWizard.preventiveMaintenance?(this.preventiveMaintenanceId=this.preventiveMaintenanceWizard.preventiveMaintenance.id.toString(),this.preventiveMaintenanceNumber=this.preventiveMaintenanceWizard.preventiveMaintenance.numberWithPrefix):this.router.navigate(["preventive-maintenance"])}ngOnInit(){this.setPermissionBooleans(),this.viewPreventiveMaintenanceForId()}createForm(){(e=>{this.form=this.formBuilder.group({title:new c.e({value:e.title,disabled:!this.isEditable},c.v.compose([c.v.maxLength(50),c.v.required,c.v.pattern("^[a-zA-Z0-9 ]*")])),assignedTo:new c.e({value:e.assignedTo,disabled:!this.isEditable},c.v.compose([c.v.maxLength(50)])),status:new c.e({value:e.status,disabled:!this.isEditable},c.v.compose([c.v.required])),startDate:new c.e({value:e.startDate,disabled:!0},c.v.compose([c.v.required])),endDate:new c.e({value:e.endDate,disabled:!0},c.v.compose([c.v.required])),frequency:new c.e({value:e.frequency,disabled:!this.isEditable},c.v.compose([c.v.required,c.v.min(1),c.v.max(9999)])),instruction:new c.e({value:e.instruction,disabled:!this.isEditable},c.v.compose([c.v.maxLength(4e3)]))})})(this.extendedPreventiveMaintenance);const e=new Date(this.extendedPreventiveMaintenance.startDate);e&&this.onDateChange(e),this.isLoading=!1,this.form.valueChanges.subscribe(()=>{setTimeout(()=>{this.updateFormChanges()},100)})}viewPreventiveMaintenanceForId(e=!0){this.isLoading=!0,this.preventiveMaintenanceService.viewPreventiveMaintenanceDetailForId(this.preventiveMaintenanceId).subscribe(t=>{this.extendedPreventiveMaintenance=t,e&&this.createForm(),this.isLoading=!1})}handlePickAssets(){this.addAssetsModalVisible=!0}disableRightClick(e){e.preventDefault()}handleDetailsModalClose(){this.addAssetsModalVisible=!1}selectedUserId(e){this.form.get("assignedTo").setValue(e),this.showSaveButton=!0}handleAddedPreventiveMaintenanceAssets(e){this.addAssetsModalVisible=!1,this.extendedPreventiveMaintenance.maintenanceAssets=e,this.isAssetAvailable=this.extendedPreventiveMaintenance.maintenanceAssets.filter(e=>!0!==e.isDelete).length>0,this.form.markAsDirty(),this.showSaveButton=!0}handleDeleteItem(e){this.extendedPreventiveMaintenance&&this.extendedPreventiveMaintenance.maintenanceAssets&&(this.extendedPreventiveMaintenance.maintenanceAssets.splice(e,1),this.isAssetAvailable=this.extendedPreventiveMaintenance.maintenanceAssets.filter(e=>!0!==e.isDelete).length>0,this.form.markAsDirty(),this.showSaveButton=!0)}setPermissionBooleans(){this.isGettingUserRights=!0,this.authenticationService.currentUserHasPermission({[o.l.PreventiveMaintenance]:[o.n.CanEditPreventiveMaintenance]}).subscribe(e=>{this.isEditable=e,this.isGettingUserRights=!1})}updateFormChanges(){this.extendedPreventiveMaintenance.status=parseInt(this.form.get("status").value),this.extendedPreventiveMaintenance.assignedTo=this.form.get("assignedTo").value?this.form.get("assignedTo").value.toString():"",this.extendedPreventiveMaintenance.title=this.form.get("title").value.toString(),this.extendedPreventiveMaintenance.instruction=this.form.get("instruction").value.toString(),this.extendedPreventiveMaintenance.startDate=Object(i.q)(this.form.get("startDate").value,"yyyy-MM-ddThh:mm:ss","en-US"),this.extendedPreventiveMaintenance.endDate=this.form.get("endDate").value?Object(i.q)(this.form.get("endDate").value,"yyyy-MM-ddThh:mm:ss","en-US"):null,this.extendedPreventiveMaintenance.frequency=this.form.get("frequency").value,this.showSaveButton=!0,this.form.markAsDirty()}updatePreventiveMaintenance(){if(!this.isUpdatingPreventiveMaintenance){if(this.isAssetAvailable=this.extendedPreventiveMaintenance.maintenanceAssets.filter(e=>!0!==e.isDelete).length>0,!this.form.valid||!this.isAssetAvailable)return this.submitted=!0,this.showSaveButton=!1,this.isUpdatingPreventiveMaintenance=!1,void this.form.markAsPristine();this.form.valid&&this.form.dirty&&(this.extendedPreventiveMaintenance.maintenanceAssets.forEach(e=>{e.referenceId=this.extendedPreventiveMaintenance.id}),this.extendedPreventiveMaintenance.maintenanceAssets=this.extendedPreventiveMaintenance.maintenanceAssets.filter(e=>!e.isDelete),this.form.markAsPristine(),this.preventiveMaintenanceService.updatePreventiveMaintenanceDetailForId(this.extendedPreventiveMaintenance.id,this.extendedPreventiveMaintenance).subscribe(e=>{this.viewPreventiveMaintenanceForId(!1),this.toastService.showToast(new o.u(`Schedule ( ${e.numberWithPrefix} ) saved successfully`))},e=>{this.toastService.showErrorToast("Unable to save schedule")}),this.showSaveButton=!1)}}onDateChange(e){e.value?(this.minEndDate=new Date(e.value),this.form.get("endDate").setValue(null)):this.minEndDate=new Date(e),this.minEndDate.setDate(this.minEndDate.getDate()+1)}}function L(e,t){1&e&&(m.kc(0,"div"),m.fc(1,"div",2),m.jc())}function U(e,t){1&e&&(m.kc(0,"div",61),m.fc(1,"div",62),m.kc(2,"div",63),m.Pc(3," You must specify title "),m.jc(),m.jc())}function z(e,t){1&e&&(m.kc(0,"div",64),m.kc(1,"div",65),m.kc(2,"div",66),m.fc(3,"label",67),m.kc(4,"div",68),m.Pc(5," You must specify an asset "),m.jc(),m.jc(),m.jc(),m.fc(6,"div",69),m.jc())}function B(e,t){1&e&&(m.kc(0,"div",70),m.kc(1,"div",71),m.kc(2,"div",72),m.kc(3,"label",67),m.Pc(4,"Asset"),m.jc(),m.kc(5,"div",73),m.fc(6,"input",74),m.jc(),m.jc(),m.jc(),m.kc(7,"div",71),m.kc(8,"div",72),m.kc(9,"label",67),m.Pc(10,"Location"),m.jc(),m.kc(11,"div",75),m.fc(12,"input",76),m.uc(),m.kc(13,"svg",77),m.kc(14,"g",78),m.fc(15,"path",79),m.fc(16,"path",80),m.fc(17,"path",81),m.fc(18,"path",82),m.fc(19,"path",83),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc())}function V(e,t){if(1&e){const e=m.lc();m.kc(0,"div",84),m.kc(1,"div",71),m.kc(2,"div",85),m.kc(3,"label",67),m.Pc(4,"Asset"),m.jc(),m.kc(5,"div",73),m.fc(6,"input",74),m.jc(),m.jc(),m.jc(),m.kc(7,"div",71),m.kc(8,"div",85),m.kc(9,"label",67),m.Pc(10,"Location"),m.jc(),m.kc(11,"div",75),m.fc(12,"input",76),m.kc(13,"button",86),m.rc("click",function(){m.Ic(e);const n=t.$implicit;return m.vc(2).handleDeleteAsset(n)}),m.uc(),m.kc(14,"svg",87),m.kc(15,"g",78),m.fc(16,"path",79),m.fc(17,"path",80),m.fc(18,"path",81),m.fc(19,"path",82),m.fc(20,"path",83),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc()}if(2&e){const e=t.$implicit;m.Tb(6),m.Ac("value",e.assetId+" - "+e.name),m.Tb(6),m.Ac("value",e.location)}}function N(e,t){1&e&&(m.kc(0,"div",88),m.fc(1,"div",89),m.kc(2,"div",90),m.Pc(3," You must specify schedule start "),m.jc(),m.jc())}function G(e,t){1&e&&(m.kc(0,"div",91),m.fc(1,"div",92),m.kc(2,"div",93),m.Pc(3," You must specify frequency "),m.jc(),m.fc(4,"div",94),m.jc())}function Z(e,t){if(1&e){const e=m.lc();m.kc(0,"app-modal",95),m.rc("modalShouldClose",function(){m.Ic(e);return m.vc(2).handleDetailsModalClose()})("contextmenu",function(t){m.Ic(e);return m.vc(2).disableRightClick(t)}),m.kc(1,"app-pick-assets",96),m.rc("addedAssets",function(t){m.Ic(e);return m.vc(2).handleAddedAssets(t)}),m.jc(),m.jc()}if(2&e){const e=m.vc(2);m.Tb(1),m.Ac("existingAssets",e.existingAssets)}}function W(e,t){if(1&e){const e=m.lc();m.kc(0,"article"),m.kc(1,"header"),m.kc(2,"h1"),m.Pc(3," Create Schedule"),m.jc(),m.jc(),m.kc(4,"form",3),m.kc(5,"div",4),m.Oc(6,U,4,0,"div",5),m.kc(7,"div",6),m.kc(8,"div",7),m.kc(9,"label",8),m.Pc(10,"Title"),m.jc(),m.jc(),m.kc(11,"div",9),m.fc(12,"input",10),m.jc(),m.jc(),m.Oc(13,z,7,0,"div",11),m.Oc(14,B,20,0,"div",12),m.Oc(15,V,21,2,"div",13),m.kc(16,"div",14),m.kc(17,"button",15),m.rc("click",function(){m.Ic(e);return m.vc().handlePickAssets()}),m.Pc(18,"Add Asset"),m.jc(),m.jc(),m.kc(19,"div",16),m.kc(20,"div",17),m.Oc(21,N,4,0,"div",18),m.kc(22,"div",19),m.kc(23,"label",20),m.Pc(24," Schedule start "),m.jc(),m.kc(25,"div",21),m.kc(26,"div",22),m.kc(27,"div",23),m.kc(28,"input",24),m.rc("dateChange",function(t){m.Ic(e);return m.vc().onStartDateChange(t)}),m.jc(),m.fc(29,"mat-datepicker-toggle",25),m.fc(30,"mat-datepicker",null,26),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(32,"div",27),m.kc(33,"div",28),m.kc(34,"label",29),m.Pc(35," Schedule end "),m.kc(36,"span",30),m.uc(),m.kc(37,"svg",31),m.fc(38,"path",32),m.kc(39,"g"),m.fc(40,"path",33),m.jc(),m.jc(),m.jc(),m.jc(),m.tc(),m.kc(41,"div",34),m.kc(42,"div",35),m.kc(43,"div",36),m.fc(44,"input",37),m.fc(45,"mat-datepicker-toggle",25),m.fc(46,"mat-datepicker",38,39),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(48,"div",40),m.kc(49,"div",41),m.Oc(50,G,5,0,"div",42),m.kc(51,"div",43),m.kc(52,"label",44),m.Pc(53," Frequency "),m.jc(),m.kc(54,"div",45),m.fc(55,"input",46),m.jc(),m.kc(56,"label",47),m.Pc(57," Days "),m.jc(),m.jc(),m.jc(),m.kc(58,"div",48),m.kc(59,"div",49),m.kc(60,"label",50),m.Pc(61," Assign To"),m.jc(),m.kc(62,"div",34),m.fc(63,"input",51),m.kc(64,"app-list-users",52),m.rc("selectedUserId",function(t){m.Ic(e);return m.vc().selectedUserId(t)}),m.jc(),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(65,"div",53),m.kc(66,"div",54),m.kc(67,"label",55),m.Pc(68,"Instructions"),m.jc(),m.jc(),m.kc(69,"div",56),m.kc(70,"textarea",57),m.Pc(71,"          "),m.jc(),m.jc(),m.jc(),m.jc(),m.kc(72,"footer"),m.kc(73,"div",58),m.kc(74,"button",59),m.rc("click",function(){m.Ic(e);return m.vc().createSchedule()}),m.Pc(75," Save all changes "),m.jc(),m.jc(),m.jc(),m.jc(),m.Oc(76,Z,2,1,"app-modal",60),m.jc()}if(2&e){const e=m.Gc(31),t=m.Gc(47),n=m.vc();m.Tb(4),m.Ac("formGroup",n.formCreateSchedule),m.Tb(2),m.Ac("ngIf",n.submitAttempted&&n.formCreateSchedule.controls.title.errors),m.Tb(7),m.Ac("ngIf",n.submitAttempted&&0===n.existingAssets.length),m.Tb(1),m.Ac("ngIf",0===n.existingAssets.length),m.Tb(1),m.Ac("ngForOf",n.existingAssets),m.Tb(6),m.Ac("ngIf",n.submitAttempted&&n.formCreateSchedule.controls.scheduleStart.errors),m.Tb(7),m.Ac("matDatepicker",e),m.Tb(1),m.Ac("for",e),m.Tb(15),m.Ac("matDatepicker",t)("min",n.minDueDate),m.Tb(1),m.Ac("for",t),m.Tb(5),m.Ac("ngIf",n.submitAttempted&&n.formCreateSchedule.controls.frequency.errors),m.Tb(23),m.Wb("visible",n.formCreateSchedule.dirty||n.showSaveButton),m.Tb(3),m.Ac("ngIf",n.addAssetsModalVisible)}}q.\u0275fac=function(e){return new(e||q)(m.ec(c.d),m.ec(o.o),m.ec(r.c),m.ec(g),m.ec(o.d),m.ec(o.v))},q.\u0275cmp=m.Yb({type:q,selectors:[["app-view-preventive-maintenance"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"spinner"],[3,"formGroup"],[1,"core-info","mt-4"],[1,"row","align-items-center"],[1,"col-4","col-md-2"],[1,"col-8","col-md-10"],[1,"row","align-items-center","mb-2","mb-sm-4","mb-md-3"],["type","text","pattern","^[a-zA-Z0-9 ]*","formControlName","title","maxlength","50",1,"form-control"],["class","row",4,"ngIf"],[4,"ngFor","ngForOf"],["class","mb-2 mb-sm-3",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"row","align-items-center","d-flex","mb-2","mb-sm-3"],[1,"col-4","pe-0"],[1,"col-8"],[1,"form-group"],[1,"taro-material-datepicker"],["matInput","","formControlName","startDate",1,"form-control",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],[3,"disabled"],["datePickerStartDate",""],[1,"col-4"],["type","hidden","formControlName","assignedTo","maxlength","50",1,"form-control",3,"readOnly"],[3,"isEditable","userName","selectedUserId"],[1,"col-4","attachment-icon"],["tooltip-danger","Auto creation of work order will stop on this date. Leave blank if you are unsure or if this maintenance\n                  is required for the life of the asset"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 19.199 19.2","width","14","height","14"],["d","M0 9.6a9.6 9.6 0 0 0 18.5 3.6 8.571 8.571 0 0 0 .7-3.6A9.6 9.6 0 1 0 0 9.6z","fill","#fff","stroke","#ff422e"],["d","M9.6 4a1.184 1.184 0 0 1 1.2 1.3 1.2 1.2 0 1 1-2.4 0A1.24 1.24 0 0 1 9.6 4zm-1 3.3h2.1v7.9H8.6z","fill","#ff422e"],["matInput","","formControlName","endDate",1,"form-control",3,"matDatepicker","min"],["datePickerEndDate",""],["formControlName","status",1,"custom-select","form-control"],["class","form-control",3,"value","selected",4,"ngFor","ngForOf"],["class","row align-items-center ",4,"ngIf"],[1,"row","mb-sm-4","mb-2"],[1,"col-sm-2","col-4","mt-3"],[1,"col-sm-10","col-8"],[1,"input-group","input-with-frequency-wrapper"],["type","number","formControlName","frequency","inputmode","numeric","pattern","[0-9]*","onKeyPress","return (this.value.length === 4 || event.key === 'e' || isNaN(event.key)) ? false : true;",1,"form-control",3,"readOnly"],[1,"input-group-append"],[1,"input-group-text"],["formControlName","instruction","rows","8","maxlength","4000",1,"form-control",3,"readOnly"],[3,"modalShouldClose","contextmenu",4,"ngIf"],["class","form-actions",3,"visible",4,"ngIf"],[1,"asset-alert-msgs"],[1,"alert","alert-danger","arrow-alert"],[1,"col-sm-12","mb-sm-3","mb-md-0"],[1,"row","d-flex","align-items-center"],[1,"col-8","col-md-4","col-xl-4"],[1,"col-sm-6","mb-2","mb-sm-3","mb-md-0"],["type","text","readonly","",1,"readonly","form-control",3,"value"],[1,"col-sm-6","mb-2","mb-sm-3"],[1,"col-8","d-flex","align-items-center"],["type","text","readonly","",1,"form-control","readonly",3,"value"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon","opacity-50"],["id","wrench","transform","translate(0.001 0)"],["id","Path_1563","data-name","Path 1563","d","M12.333,3.933,1.267,3.8c-.133.133-.4.133-.533.267A.8.8,0,0,0,.6,4.6L1.8,16.2c0,.4.267.533.667.533h8.267A.61.61,0,0,0,11.4,16.2L12.867,4.6a.8.8,0,0,0-.133-.533,1.343,1.343,0,0,0-.4-.134Zm-2,11.6h-7.2L2.067,5.267h9.467Z","transform","translate(0.2 1.267)"],["id","Path_1564","data-name","Path 1564","d","M13.333,3.2H10.667A3.739,3.739,0,0,0,6.933,0a3.607,3.607,0,0,0-3.6,3.2H.667A.63.63,0,0,0,0,3.867a.63.63,0,0,0,.667.667H13.333A.63.63,0,0,0,14,3.867a.63.63,0,0,0-.667-.667Zm-6.4-1.867A2.442,2.442,0,0,1,9.333,3.2H4.667A2.407,2.407,0,0,1,6.933,1.333Z"],["id","Path_1565","data-name","Path 1565","d","M5.367,13.467a.63.63,0,0,0,.667-.667V6.667A.63.63,0,0,0,5.367,6a.63.63,0,0,0-.667.667v6.267C4.7,13.2,5.1,13.467,5.367,13.467Z","transform","translate(1.567 2)"],["id","Path_1566","data-name","Path 1566","d","M3.9,13.5a.714.714,0,0,0,.667-.667L4.033,6.567A.714.714,0,0,0,3.367,5.9a.845.845,0,0,0-.667.8l.533,6.267A.886.886,0,0,0,3.9,13.5Z","transform","translate(0.9 1.967)"],["id","Path_1567","data-name","Path 1567","d","M6.942,13.475a.63.63,0,0,0,.667-.667l.533-6.267c.133-.267-.133-.533-.533-.533-.4-.133-.667.133-.667.533l-.533,6.267c-.134.4.133.667.533.667Z","transform","translate(2.125 1.991)"],["type","text","readonly","",1,"form-control","readonly","location-input",3,"value"],[1,"delete-btn",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon"],[1,"mb-2","mb-sm-3"],[1,"btn","btn-link","p-0","add-asset",3,"disabled","click"],[1,"form-control",3,"value","selected"],[1,"col-8","col-md-4","col-xl-3"],[3,"modalShouldClose","contextmenu"],[3,"existingAssets","addedAssets"],[1,"form-actions"],[1,"btn","btn-primary","btn-block","col-12",3,"click"]],template:function(e,t){1&e&&(m.fc(0,"app-section-header"),m.Oc(1,w,2,0,"div",0),m.Oc(2,E,80,25,"article",0)),2&e&&(m.Tb(1),m.Ac("ngIf",t.isLoading||t.isGettingUserRights),m.Tb(1),m.Ac("ngIf",!t.isLoading&&!t.isGettingUserRights))},directives:[u.a,i.k,c.w,c.n,c.g,c.c,c.s,c.m,c.f,c.i,i.j,b.b,b.d,b.a,k.a,c.u,c.r,c.q,c.x,O.a,_.a],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}article[_ngcontent-%COMP%]   .core-info[_ngcontent-%COMP%]   .del-icon[_ngcontent-%COMP%]{margin-left:.5em}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #dedede;margin-bottom:1em;padding-bottom:.5em}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #dedede;margin-bottom:1em!important;padding-bottom:.5em}.input-with-frequency-wrapper[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.input-with-frequency-wrapper[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:.75rem .95rem;background:none;border:none}.readonly[_ngcontent-%COMP%]{pointer-events:none;background-color:hsla(0,0%,92%,.295);color:#9c9a9a}@media only screen and (min-width:1200px){[tooltip-danger][_ngcontent-%COMP%]:before{left:1400%;width:28em;top:4em;right:222%;z-index:9999}[tooltip-danger][_ngcontent-%COMP%]:after{top:.3em;left:146%;transform:rotate(91deg)}}@media only screen and (max-width:1024px){[tooltip-danger][_ngcontent-%COMP%]{position:absolute;margin-left:6px;z-index:9}[tooltip-danger][_ngcontent-%COMP%]:before{width:19em}}.delete-btn[_ngcontent-%COMP%]{border:none;background:transparent;padding-bottom:.25em;margin-left:.25em}.delete-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1em;height:auto;transform:scale(1)}.delete-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#424244}.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.125)}.delete-btn[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:default}.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:25%}@media only screen and (max-width:767px){.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width:768px) and (max-width:1024px){.input-with-frequency-wrapper[_ngcontent-%COMP%]{width:48%}}  .form-group{position:relative}  .form-group .alert-msgs{position:absolute;bottom:2.5em}  .form-group .asset-alert-msgs{bottom:0;width:100%;margin-bottom:1.05em;z-index:9}@media only screen and (max-width:575px){  .form-group .asset-alert-msgs{position:relative}}  .find-as-you-type .form-control:-moz-read-only{box-shadow:none!important;background-color:hsla(0,0%,92%,.58)!important;z-index:5;opacity:.5}  .find-as-you-type .form-control:read-only{box-shadow:none!important;background-color:hsla(0,0%,92%,.58)!important;z-index:5;opacity:.5}"]});class H{constructor(e,t,n,i,c,a){this.formbuilder=e,this.preventiveMaintenanceService=t,this.toastService=n,this.router=i,this.preventiveMaintenanceWizard=c,this.authenticationService=a,this.isCreatingScheduleLoader=!1,this.showSaveButton=!1,this.submitAttempted=!1,this.addAssetsModalVisible=!1,this.startDate=new Date,this.minDueDate=new Date,this.existingAssets=[],this.canUserEditSchedule=!1}ngOnInit(){this.minDueDate.setDate(this.startDate.getDate()+1),this.createForm(),this.setPermissionBooleans()}createForm(){(()=>{this.formCreateSchedule=this.formbuilder.group({title:["",c.v.compose([c.v.required,c.v.maxLength(50)])],scheduleStart:[this.startDate,c.v.required],scheduleEnd:[null],frequency:["",c.v.compose([c.v.required,c.v.min(1),c.v.max(9999)])],assignedToUser:["",c.v.compose([c.v.maxLength(50)])],instruction:["",c.v.compose([c.v.maxLength(4e3)])]})})()}setPermissionBooleans(){this.authenticationService.currentUserHasPermission({[o.l.PreventiveMaintenance]:[o.n.CanEditPreventiveMaintenance]}).subscribe(e=>{this.canUserEditSchedule=e})}onStartDateChange(e){this.startDate=new Date(e.value),this.startDate.setDate(this.startDate.getDate()),this.formCreateSchedule.get("scheduleStart").setValue(this.startDate),this.minDueDate.setDate(this.startDate.getDate()+1);let t=new Date(this.startDate);if(null!==this.formCreateSchedule.value.scheduleEnd&&void 0!==this.formCreateSchedule.value.scheduleEnd&&""!==this.formCreateSchedule.value.scheduleEnd){new Date(this.formCreateSchedule.value.scheduleEnd)<t&&this.formCreateSchedule.get("scheduleEnd").setValue("")}}selectedUserId(e){this.formCreateSchedule.get("assignedToUser").setValue(e),this.showSaveButton=!0}handlePickAssets(){this.addAssetsModalVisible=!0}handleDetailsModalClose(){this.addAssetsModalVisible=!1}disableRightClick(e){e.preventDefault()}handleAddedAssets(e){this.addAssetsModalVisible=!1,this.existingAssets=e,this.showSaveButton=!0}handleDeleteAsset(e){this.existingAssets.splice(this.existingAssets.indexOf(e),1),this.showSaveButton=!0}createSchedule(){this.submitAttempted=!0,this.showSaveButton=!1,this.isCreatingScheduleLoader=!0;let e=new Date(this.formCreateSchedule.value.scheduleStart);if(null!==this.formCreateSchedule.value.scheduleEnd&&void 0!==this.formCreateSchedule.value.scheduleEnd&&""!==this.formCreateSchedule.value.scheduleEnd){if(new Date(this.formCreateSchedule.value.scheduleEnd)<e)return this.toastService.showErrorToast("Schedule end should be greater than schedule start"),void(this.isCreatingScheduleLoader=!1)}if(0===this.existingAssets.length)return void(this.isCreatingScheduleLoader=!1);if(!this.formCreateSchedule.valid)return void(this.isCreatingScheduleLoader=!1);const t=this.existingAssets.map(e=>e.id),n=this.formCreateSchedule.value.assignedToUser,c=this.formCreateSchedule.value.title,a=this.formCreateSchedule.value.instruction,r=this.formCreateSchedule.value.frequency,s=Object(i.q)(this.formCreateSchedule.value.scheduleStart,"yyyy-MM-ddThh:mm:ss","en-US"),d=this.formCreateSchedule.value.scheduleEnd?Object(i.q)(this.formCreateSchedule.value.scheduleEnd,"yyyy-MM-ddThh:mm:ss","en-US"):null,l=o.p.Active;this.preventiveMaintenanceService.createSchedule({title:c,endDate:d,startDate:s,frequency:r,status:l,assignedTo:n,instruction:a,assetName:"",maintenanceAssets:t}).subscribe(e=>{this.toastService.showToast(new o.u(`Schedule ( ${e.numberWithPrefix} ) saved successfully`)),this.isCreatingScheduleLoader=!1,this.preventiveMaintenanceWizard.preventiveMaintenance=e,this.canUserEditSchedule?this.router.navigate(["preventive-maintenance/edit-schedule"]):this.router.navigate(["preventive-maintenance/view-schedule"])},e=>{this.toastService.showErrorToast(" Schedule not saved"),this.isCreatingScheduleLoader=!1})}}H.\u0275fac=function(e){return new(e||H)(m.ec(c.d),m.ec(o.o),m.ec(o.v),m.ec(r.c),m.ec(g),m.ec(o.d))},H.\u0275cmp=m.Yb({type:H,selectors:[["app-create-preventive-maintenance"]],decls:3,vars:3,consts:[[3,"customCurrentPageTitle"],[4,"ngIf"],[1,"spinner"],[3,"formGroup"],[1,"mt-4","core-info"],["id","title-errormsg-outer-div","class","d-flex",4,"ngIf"],["id","title-outer-div",1,"d-flex","row","align-items-center","mb-2","mb-sm-3"],["id","title-lable-div",1,"col-4","col-sm-2"],["for","title"],["id","title-ctrl-div",1,"col-8","col-sm-10"],["type","text","maxlength","50","formControlName","title",1,"form-control"],["id","asset-errormsg-outer-div","class","row",4,"ngIf"],["id","asset-dummy-outer-div","class","row",4,"ngIf"],["id","asset-outer-div","class","row",4,"ngFor","ngForOf"],["id","add-asset-div",1,"pb-2"],["id","add-asset-btn",1,"btn","btn-link","p-0","add-asset",3,"click"],["id","start-end-date-outer-div",1,"row","align-items-center","mb-sm-3"],["id","startdate-outer-div",1,"col-12","col-sm-6","mb-2"],["id","startdate-error-div","class","d-flex ","id","start-date-error-outer-div",4,"ngIf"],["id","startdate-outer-div",1,"d-flex","row","align-items-center"],["for","startdate",1,"col-4","pe-0"],["id","start-date-ctrl-div",1,"col-8"],["id","start-date-ctrl-frmgp",1,"form-group"],["id","start-date-datepicker-div",1,"taro-material-datepicker"],["matInput","","formControlName","scheduleStart",1,"form-control",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["datePicker",""],["id","enddate-outer-div",1,"col-12","col-sm-6","mb-2"],["id","end-date-ctrl-outer-div",1,"d-flex","row","align-items-center"],["for","end-date-ctrl-lbl",1,"col-4","attachment-icon"],["tooltip-danger","Auto creation of work order will stop on this date. Leave blank if you are unsure or if this maintenance is required for the life of the asset"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 19.199 19.2","width","14","height","14"],["d","M0 9.6a9.6 9.6 0 0 0 18.5 3.6 8.571 8.571 0 0 0 .7-3.6A9.6 9.6 0 1 0 0 9.6z","fill","#fff","stroke","#ff422e"],["d","M9.6 4a1.184 1.184 0 0 1 1.2 1.3 1.2 1.2 0 1 1-2.4 0A1.24 1.24 0 0 1 9.6 4zm-1 3.3h2.1v7.9H8.6z","fill","#ff422e"],["id","end-date-ctrl-div",1,"col-8"],["id","end-date-ctrl-frmgrp",1,"form-group"],["id","end-date-datepicker-div",1,"taro-material-datepicker"],["matInput","","formControlName","scheduleEnd",1,"form-control",3,"matDatepicker","min"],["disabled","false"],["datepickerendschedule",""],["id","frequency-assignto-outter-div",1,"row","align-items-center","mb-sm-3"],["id","frequency-outer-div",1,"col-12","col-sm-6","mb-2"],["id","frequency-error-outer-div","class","d-flex row",4,"ngIf"],["id","frequency-ctrl-outer-div",1,"d-flex","row","align-items-center"],["for","start-date-ctrl-lbl",1,"col-4"],[1,"col-6"],["type","number","pattern","[0-9]*","maxlength","5","formControlName","frequency","onkeypress","return (this.value.length === 4 || event.key === 'e' || isNaN(event.key)) ? false : true;",1,"form-control"],["for","frequency-days-label",1,"col-2","ps-1"],["id","assignto-outer-div",1,"col-12","col-sm-6","mb-2"],["id","assignto-ctrl-outer-div",1,"d-flex","row","align-items-center"],["for","end-date-ctrl-lbl",1,"col-4"],["type","hidden","formControlName","assignedToUser",1,"form-control"],[3,"selectedUserId"],["id","instruction-outer-div",1,"d-flex","row","pb-2"],["id","instruction-lable-div",1,"col-4","mt-3"],["for","instruction "],["id","instruction-ctrl-div",1,"col-8"],["formControlName","instruction","rows","8","maxlength","4000",1,"form-control","instruction-input"],[1,"form-actions"],[1,"col-12","btn","btn-primary","btn-block",3,"click"],[3,"modalShouldClose","contextmenu",4,"ngIf"],["id","title-errormsg-outer-div",1,"d-flex"],["id","title-error-left-div",1,"col-4","col-sm-2"],["id","title-error-rignt-div",1,"col-8","col-sm-10","alert","alert-danger","arrow-alert","title-alert"],["id","asset-errormsg-outer-div",1,"row"],["id","asset-errormsg-outer-div-section1",1,"col-sm-6"],["id","asset-errormsg-outer-div-inner-section",1,"d-flex","align-items-center","error-msg"],[1,"col-4"],["id","asset-errormsg-div",1,"col-8","col-sm-12","asset-input-alret","alert","alert-danger","arrow-alert","asset-alert"],["id","asset-errormsg-outer-div-section2",1,"col-sm-6"],["id","asset-dummy-outer-div",1,"row"],[1,"col-sm-6","mb-2","mb-sm-3"],[1,"d-flex","row","align-items-center"],[1,"col-8","asset-input-size"],["type","text","readonly","",1,"readonly","form-control",3,"value"],[1,"col-8","d-flex","align-items-center"],["type","text","readonly","",1,"form-control","readonly",3,"value"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon","opacity-50"],["id","wrench","transform","translate(0.001 0)"],["id","Path_1563","data-name","Path 1563","d","M12.333,3.933,1.267,3.8c-.133.133-.4.133-.533.267A.8.8,0,0,0,.6,4.6L1.8,16.2c0,.4.267.533.667.533h8.267A.61.61,0,0,0,11.4,16.2L12.867,4.6a.8.8,0,0,0-.133-.533,1.343,1.343,0,0,0-.4-.134Zm-2,11.6h-7.2L2.067,5.267h9.467Z","transform","translate(0.2 1.267)"],["id","Path_1564","data-name","Path 1564","d","M13.333,3.2H10.667A3.739,3.739,0,0,0,6.933,0a3.607,3.607,0,0,0-3.6,3.2H.667A.63.63,0,0,0,0,3.867a.63.63,0,0,0,.667.667H13.333A.63.63,0,0,0,14,3.867a.63.63,0,0,0-.667-.667Zm-6.4-1.867A2.442,2.442,0,0,1,9.333,3.2H4.667A2.407,2.407,0,0,1,6.933,1.333Z"],["id","Path_1565","data-name","Path 1565","d","M5.367,13.467a.63.63,0,0,0,.667-.667V6.667A.63.63,0,0,0,5.367,6a.63.63,0,0,0-.667.667v6.267C4.7,13.2,5.1,13.467,5.367,13.467Z","transform","translate(1.567 2)"],["id","Path_1566","data-name","Path 1566","d","M3.9,13.5a.714.714,0,0,0,.667-.667L4.033,6.567A.714.714,0,0,0,3.367,5.9a.845.845,0,0,0-.667.8l.533,6.267A.886.886,0,0,0,3.9,13.5Z","transform","translate(0.9 1.967)"],["id","Path_1567","data-name","Path 1567","d","M6.942,13.475a.63.63,0,0,0,.667-.667l.533-6.267c.133-.267-.133-.533-.533-.533-.4-.133-.667.133-.667.533l-.533,6.267c-.134.4.133.667.533.667Z","transform","translate(2.125 1.991)"],["id","asset-outer-div",1,"row"],[1,"d-flex","align-items-center"],[1,"del-icon-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","15.002","height","19.003","viewBox","0 0 14.002 18.003",1,"del-icon"],["id","startdate-error-div","id","start-date-error-outer-div",1,"d-flex"],["id","start-date-error-left",1,"col-4"],["id","start-date-error-right",1,"col-8","ms-1","alert","alert-danger","arrow-alert","startdate-alert"],["id","frequency-error-outer-div",1,"d-flex","row"],["id","frequency-error-left",1,"col-4"],["id","frequency-error-right",1,"col-5","alert","alert-danger","arrow-alert","frequency-alert"],["id","frequency-error-right",1,"col-3"],[3,"modalShouldClose","contextmenu"],[3,"existingAssets","addedAssets"]],template:function(e,t){1&e&&(m.fc(0,"app-section-header",0),m.Oc(1,L,2,0,"div",1),m.Oc(2,W,77,15,"article",1)),2&e&&(m.Ac("customCurrentPageTitle","Create Schedule"),m.Tb(1),m.Ac("ngIf",t.isCreatingScheduleLoader),m.Tb(1),m.Ac("ngIf",!t.isCreatingScheduleLoader))},directives:[u.a,i.k,c.w,c.n,c.g,c.c,c.i,c.m,c.f,i.j,b.b,b.d,b.a,c.r,c.s,k.a,O.a,_.a],styles:["@media print{.app-header[_ngcontent-%COMP%], .function-bar[_ngcontent-%COMP%], .media-none[_ngcontent-%COMP%], app-section-header[_ngcontent-%COMP%]{display:none!important}.app-content-area[_ngcontent-%COMP%]{margin:0!important;background-color:#fff}.media-print[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}}article[_ngcontent-%COMP%]{margin-bottom:7.5em}article[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{text-align:left!important;padding:.8em}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #dedede;margin-bottom:1em;padding-bottom:.5em}article[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}article[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:1em!important;text-transform:none}article[_ngcontent-%COMP%]   .readonly[_ngcontent-%COMP%]{pointer-events:none;background-color:hsla(0,0%,92%,.295);color:#9c9a9a}article[_ngcontent-%COMP%]   .core-info[_ngcontent-%COMP%]   .del-icon[_ngcontent-%COMP%]{margin-left:.5em}article[_ngcontent-%COMP%]   .core-info[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}article[_ngcontent-%COMP%]   .del-icon-button[_ngcontent-%COMP%]{border:0;background-color:transparent}article[_ngcontent-%COMP%]   .align-items-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:scale(1.25)}article[_ngcontent-%COMP%]   .align-items-center[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}article[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:0}article[_ngcontent-%COMP%]   .title-alert[_ngcontent-%COMP%]{margin-left:.5em;max-width:64.1%;min-width:65.1%}@media only screen and (min-width:576px){article[_ngcontent-%COMP%]   .title-alert[_ngcontent-%COMP%]{margin-left:.2em;max-width:83%;min-width:82.1%}}@media only screen and (min-width:768px){article[_ngcontent-%COMP%]   .title-alert[_ngcontent-%COMP%]{margin-left:.2em;max-width:83%;min-width:82.1%}}@media only screen and (min-width:1400px){article[_ngcontent-%COMP%]   .title-alert[_ngcontent-%COMP%]{margin-left:.2em;max-width:83%;min-width:82.1%}}@media only screen and (min-width:1700px){article[_ngcontent-%COMP%]   .title-alert[_ngcontent-%COMP%]{margin-left:.2em;max-width:83.1%;min-width:83%}}@media only screen and (min-width:576px){article[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{margin-left:-1%;width:84%}}@media only screen and (min-width:768px){article[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{margin-left:-.5%;width:84%}}@media only screen and (min-width:1400px){article[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{margin-left:-.25%;width:84%}}article[_ngcontent-%COMP%]   .asset-alert[_ngcontent-%COMP%]{margin-left:.52em;max-width:65%}@media only screen and (min-width:576px){article[_ngcontent-%COMP%]   .asset-alert[_ngcontent-%COMP%]{margin-left:.5em;max-width:64.5%}}@media only screen and (min-width:768px){article[_ngcontent-%COMP%]   .asset-alert[_ngcontent-%COMP%]{margin-left:.4em;max-width:65.4%}}@media only screen and (min-width:1400px){article[_ngcontent-%COMP%]   .asset-alert[_ngcontent-%COMP%]{margin-left:.4em;max-width:65.9%}}@media only screen and (min-width:1700px){article[_ngcontent-%COMP%]   .asset-alert[_ngcontent-%COMP%]{margin-left:.4em;max-width:66%}}article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(38% + 1em)}@media only screen and (min-width:360px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(39% + 1em)}}@media only screen and (min-width:412px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(40% + 1em)}}@media only screen and (min-width:600px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(37% + 1em)}}@media only screen and (min-width:768px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(40% + 1em)}}@media only screen and (min-width:810px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(37% + 1em)}}@media only screen and (min-width:962px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(40% + 1em)}}@media only screen and (min-width:1280px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(40% + 2em)}}@media only screen and (min-width:1440px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(41% + 2em)}}@media only screen and (min-width:1600px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(43% + 1.5em)}}@media only screen and (min-width:1800px){article[_ngcontent-%COMP%]   .frequency-alert[_ngcontent-%COMP%]{margin-left:.8em;width:calc(44% + 2em)}}@media only screen and (min-width:576px){article[_ngcontent-%COMP%]   .instruction-input[_ngcontent-%COMP%]{margin-left:-26%;width:126%}}@media only screen and (min-width:768px){article[_ngcontent-%COMP%]   .instruction-input[_ngcontent-%COMP%]{margin-left:-26%;width:126%}}@media only screen and (min-width:1400px){article[_ngcontent-%COMP%]   .instruction-input[_ngcontent-%COMP%]{margin-left:-25.5%;width:126%}}article[_ngcontent-%COMP%]   .modal-details[_ngcontent-%COMP%]{margin-top:1em;background-color:#f5f3f3;padding:1.2em}@media only screen and (max-width:347px){[tooltip-danger][_ngcontent-%COMP%]:before{left:calc(903% + 1px);width:20em;top:5em;right:222%;z-index:9999}[tooltip-danger][_ngcontent-%COMP%]:after{top:.3em;left:146%;transform:rotate(91deg)}}@media only screen and (max-width:575px){[tooltip-danger][_ngcontent-%COMP%]{position:absolute;margin-left:6px;z-index:9}[tooltip-danger][_ngcontent-%COMP%]:before{width:19em}}@media only screen and (min-width:576px){[tooltip-danger][_ngcontent-%COMP%]{position:absolute;margin-left:6px;z-index:9}[tooltip-danger][_ngcontent-%COMP%]:before{width:25em}}"]});const R=[{path:"",component:M},{path:"view-schedule",component:q},{path:"edit-schedule",component:q},{path:"create-schedule",component:H}];class Y{}Y.\u0275fac=function(e){return new(e||Y)},Y.\u0275mod=m.cc({type:Y}),Y.\u0275inj=m.bc({imports:[[r.e.forChild(R)],r.e]});var $=n("FKr1");class Q extends $.i{format(e,t){return Object(i.q)(e,"dd MMM yyyy",this.locale)}}class K{}K.\u0275fac=function(e){return new(e||K)},K.\u0275mod=m.cc({type:K}),K.\u0275inj=m.bc({providers:[{provide:$.a,useClass:Q},{provide:$.c,useValue:d.a}],imports:[[i.b,c.t,a.a,Y,b.c,$.f]]})}}]);